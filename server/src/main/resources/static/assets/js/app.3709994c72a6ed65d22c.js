webpackJsonp([1],{"+oxx":function(t,e){},"/T8J":function(t,e){},"/i/n":function(t,e){},"/q/I":function(t,e){t.exports="data:image/png;base64,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"},"1hWb":function(t,e){},"23Cm":function(t,e){},"3jg0":function(t,e){},"546Z":function(t,e){},"5XiF":function(t,e){},"5bJE":function(t,e){},"6EIR":function(t,e){},"6hc5":function(t,e){},"7psV":function(t,e){},"9CT6":function(t,e){},"9dnO":function(t,e){},Abqu:function(t,e){},B89U:function(t,e){},B9BQ:function(t,e){},BAvI:function(t,e){},BFdZ:function(t,e){},BLIf:function(t,e){},BgDj:function(t,e){},Bmpv:function(t,e){},Bx9J:function(t,e){},Cg9U:function(t,e){},CkKK:function(t,e){},CuUT:function(t,e){},D2uv:function(t,e){},E9K9:function(t,e){},EmtQ:function(t,e){},GGZA:function(t,e){},GpgS:function(t,e){},H6cR:function(t,e){},HOA3:function(t,e){},ISEO:function(t,e){},ISNY:function(t,e){},Iiux:function(t,e){},KTyx:function(t,e){},KcNE:function(t,e){},LlDp:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App"},i,!1,function(t){s("XGj5")},null,null).exports,o=s("/ocq"),r=s("mvHQ"),l=s.n(r),c=s("woOf"),u=s.n(c),h={name:"ElContainer",componentName:"ElContainer",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&(!(!this.$slots||!this.$slots.default)&&this.$slots.default.some(function(t){var e=t.componentOptions&&t.componentOptions.tag;return"el-header"===e||"el-footer"===e}))}}},d={render:function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"el-container",class:{"is-vertical":this.isVertical}},[this._t("default")],2)},staticRenderFns:[]},p=s("VU/8")(h,d,!1,null,null,null).exports,g={render:function(){var t=this.$createElement;return(this._self._c||t)("main",{staticClass:"el-main"},[this._t("default")],2)},staticRenderFns:[]},m=s("VU/8")({name:"ElMain",componentName:"ElMain"},g,!1,null,null,null).exports,f=(s("feJQ"),{render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",{staticClass:"headerBackground"},[s("el-col",{staticStyle:{height:"50px"},attrs:{span:4}},[s("p",{staticStyle:{"margin-left":"20px"}},[s("span",{staticStyle:{color:"coral","font-size":"20px"}},[t._v("NJU ")]),t._v(" "),s("span",{staticStyle:{color:"dimgray","font-size":"20px"}},[t._v("bazinga turk")])])]),t._v(" "),s("el-col",{attrs:{span:18}},[s("el-tag",{staticStyle:{"margin-top":"10px"},attrs:{color:"white",type:"danger"}},[t._v(t._s(t.taskName))])],1),t._v(" "),s("el-col",{attrs:{span:1}},[s("el-button",{staticStyle:{color:"coral","margin-top":"10px"},attrs:{plain:"",size:"small"},on:{click:t.quitTask}},[t._v("退出任务")])],1)],1),t._v(" "),s("div",{staticClass:"line"})],1)},staticRenderFns:[]});var v=s("VU/8")({props:["taskName"],methods:{quitTask:function(){this.$router.push("/taskCenter")}}},f,!1,function(t){s("qeXS")},"data-v-1be03c53",null).exports,y={name:"ElAside",componentName:"ElAside",props:{width:{type:String,default:"300px"}}},x={render:function(){var t=this.$createElement;return(this._self._c||t)("aside",{staticClass:"el-aside",style:{width:this.width}},[this._t("default")],2)},staticRenderFns:[]},b=s("VU/8")(y,x,!1,null,null,null).exports,k={components:{ElAside:b,ElMain:m,ElContainer:p,"task-header":v},name:"part-classification",data:function(){return{pic:"",size:0,count:1,max:1,labelTotal:0,startX:0,startY:0,isMouseDown:!1,isMouseMove:!1,taskName:"",task:{},assign:{},taskId:"",assignmentId:"",workerId:"",state:"",buttonMessage:"确认",selected:-1,res:{},creatable:!0,isRightVisible:!1,confirm:!0,currentLayer:{newLabel:{},attrs:[],color:"#F49108",description:"",isExist:!0},attrCopy:[],layerList:[],nextMessage:"下一张"}},created:function(){this.state=this.$route.params.state,this.taskId=this.$route.params.taskId,this.assignmentId=this.$route.params.assignmentId,this.workerId=this.$route.params.workerId,this.getTaskInfo(this.taskId),this.getTaskName(this.taskId),this.getAssignment(this.taskId,this.assignmentId,this.workerId)},destroyed:function(){this.integrateRes(),this.postTaskImage(this.assignmentId,this.count)},methods:{getTaskName:function(t){var e=this;this.$api.get("task/"+t+"/brief",null,function(t){e.taskName=t.data.taskName,e.task=t.data})},getTaskInfo:function(t){var e=this;this.$api.get("task/"+t+"/attributes",null,function(t){e.attrCopy=t.data;for(var s=0;s<t.data.length;s++)e.attrCopy.attrs[s].res="";console.log(e.attrCopy)})},getAssignment:function(t,e,s){var a=this;this.$api.get("assignment/"+e,null,function(t){0===t.data.progress&&a.$api.get("/assignment/"+e+"/begin",null),a.assign=t.data,"doTask"===a.state?(a.count=t.data.progress+1,a.max=a.count,a.size=t.data.size,a.count===a.size&&(a.nextMessage="提交")):"checkTask"===a.state&&(a.count=1,a.size=t.data.progress),a.$api.get("assignment/"+a.assignmentId+"/"+a.count,null,function(t){a.res=t.data,a.pic="http://localhost:8080/"+t.data.imageUrl,a.labelTotal=0;for(var e=0;e<a.res.boxes.length;e++){var s={newLabel:{},attrs:[],color:"#F49108",description:"",isExist:!0};s.newLabel.xpos=a.res.boxes[e].xpos,s.newLabel.ypos=a.res.boxes[e].ypos,s.newLabel.width=a.res.boxes[e].width,s.newLabel.height=a.res.boxes[e].height,s.color=a.res.boxes[e].colorHex;for(var i=0;i<a.res.boxes[e].tags.length;i++){var n=u()({},a.res.boxes[e].tags[i]);s.attrs.push(n)}a.layerList.push(s)}console.log(a.res.boxes);for(var o=0;o<a.res.boxes.length;o++){var r=document.createElement("div");r.id="label_"+a.labelTotal,r.className="box",r.style.zIndex=2,r.style.left=a.res.boxes[o].xpos+"px",r.style.top=a.res.boxes[o].ypos+"px",r.style.width=a.res.boxes[o].width+"px",r.style.height=a.res.boxes[o].height+"px",r.style.borderColor=a.res.boxes[o].colorHex,document.getElementById("img-panel-background").appendChild(r),a.labelTotal++,a.addLayer()}})})},getTaskImage:function(t,e){var s=this;this.$api.get("assignment/"+t+"/"+e,null,function(t){s.res=t.data;var e="http://localhost:8080/"+t.data.imageUrl;s.pic=e,s.labelTotal=0;for(var a=0;a<s.res.boxes.length;a++){var i={newLabel:{},attrs:[],color:"#F49108",description:"",isExist:!0};i.newLabel.xpos=s.res.boxes[a].xpos,i.newLabel.ypos=s.res.boxes[a].ypos,i.newLabel.width=s.res.boxes[a].width,i.newLabel.height=s.res.boxes[a].height,i.color=s.res.boxes[a].colorHex;for(var n=0;n<s.res.boxes[a].tags.length;n++){var o=u()({},s.res.boxes[a].tags[n]);i.attrs.push(o)}s.layerList.push(i)}console.log(s.res.boxes);for(var r=0;r<s.res.boxes.length;r++){var l=document.createElement("div");l.id="label_"+s.labelTotal,l.className="box",l.style.zIndex=2,l.style.left=s.res.boxes[r].xpos+"px",l.style.top=s.res.boxes[r].ypos+"px",l.style.width=s.res.boxes[r].width+"px",l.style.height=s.res.boxes[r].height+"px",l.style.borderColor=s.res.boxes[r].colorHex,document.getElementById("img-panel-background").appendChild(l),s.labelTotal++,s.addLayer()}})},addLayer:function(){var t=document.createElement("div");t.id="layer_"+(this.labelTotal-1),t.style.height="40px",t.style.lineHeight="40px",t.style.fontSize="14px",t.style.fontFamily="Roboto",t.style.borderBottom="lightgray 1px solid";var e=document.getElementById("layer");console.log(e.style),document.getElementById("layer").appendChild(t);var s=document.createElement("i");s.className="el-icon-view",s.style.width="30px",s.style.color="black",s.style.paddingLeft="5px",s.style.paddingTop="13px",s.style.float="left",s.style.cursor="pointer",t.appendChild(s),s.onclick=this.onseenclick;var a=document.createElement("el-button");a.type="text",a.style.cursor="pointer",a.style.fontFamily="Roboto",a.style.fontSize="14px",a.style.marginLeft="22px",a.style.width="35px",t.appendChild(a),a.innerHTML="图层"+this.labelTotal,a.style.color=this.layerList[this.labelTotal-1].color,a.onclick=this.onlayerNameclick;var i=document.createElement("a");i.className="el-icon-remove",i.style.float="right",i.style.paddingRight="5px",i.style.paddingTop="13px",i.style.cursor="pointer",t.appendChild(i),i.onclick=this.onremoveclick},mouse_down:function(t){if(this.creatable){this.isMouseDown=!0,this.startX=t.offsetX,this.startY=t.offsetY;var e=document.createElement("div");e.id="label_"+this.labelTotal,e.className="box",e.onmousemove=this.boxmove,e.onmouseup=this.boxup,console.log(this.currentLayer.color),e.style.borderColor=this.currentLayer.color,document.getElementById("img-panel-background").appendChild(e),e=null}},boxmove:function(t){if(this.isMouseDown){console.log("boxmove");var e=document.getElementById("label_"+this.labelTotal);if(null!==e){var s=t.offsetX,a=t.offsetY;s+=e.offsetLeft,a+=e.offsetTop,this.drawRectangle(this.startX,this.startY,s,a)}}},boxup:function(t){if(this.isMouseDown&&this.isMouseMove){var e=document.getElementById("label_"+this.labelTotal);if(null!==e){if(e.offsetHeight<3||e.offsetWidth<3)document.getElementById("img-panel-background").removeChild(e);else this.currentLayer.newLabel.xpos=e.offsetLeft,this.currentLayer.newLabel.ypos=e.offsetTop,this.currentLayer.newLabel.width=e.offsetWidth,this.currentLayer.newLabel.height=e.offsetHeight,this.isRightVisible=!0,this.creatable=!1,this.confirm=!1,this.labelTotal++;this.isMouseDown=!1,this.isMouseMove=!1}console.log("boxup")}},mouse_move:function(t){if(this.isMouseDown&&(console.log("move"),this.isMouseMove=!0,null!==document.getElementById("label_"+this.labelTotal))){var e=t.offsetX,s=t.offsetY;this.drawRectangle(this.startX,this.startY,e,s)}},drawRectangle:function(t,e,s,a){var i=s-t,n=a-e,o=e,r=t;i<0&&(i=0-i,r=s),n<0&&(n=0-n,o=a);var l=document.getElementById("label_"+this.labelTotal);l.style.left=r+"px",l.style.top=o+"px",l.style.width=i+"px",l.style.height=n+"px",l.style.zIndex=2},mouse_up:function(t){if(this.isMouseDown&&this.isMouseMove){var e=document.getElementById("label_"+this.labelTotal);if(null!==e){if(e.offsetHeight<3||e.offsetWidth<3)document.getElementById("img-panel-background").removeChild(e);else this.currentLayer.newLabel.xpos=e.offsetLeft,this.currentLayer.newLabel.ypos=e.offsetTop,this.currentLayer.newLabel.width=e.offsetWidth,this.currentLayer.newLabel.height=e.offsetHeight,this.labelTotal++,this.isRightVisible=!0,this.creatable=!1,this.confirm=!1;this.isMouseDown=!1,this.isMouseMove=!1,console.log("up")}}},confirmInfo:function(){this.confirm=!0,console.log(this.attrCopy);for(var t=0;t<this.attrCopy.length;t++){var e={name:this.attrCopy[t].res,colorHex:""};this.currentLayer.attrs.push(e)}var s=u()({},this.currentLayer);if("确认"===this.buttonMessage)this.layerList.push(s),this.addLayer();else if("保存修改"===this.buttonMessage){this.layerList[this.selected].description=s.description;for(var a=0;a<this.attrCopy.length;a++)this.layerList[this.selected].attrs[a].name=s.attrs[a].name;this.layerList[this.selected].color=s.color,this.layerList.newLabel=u()({},s.newLabel),this.buttonMessage="确认"}for(var i=0;i<this.attrCopy.length;i++)this.attrCopy[i].res="";this.currentLayer.attrs=[],this.currentLayer.newLabel={},this.currentLayer.tags=[],this.currentLayer.color="#F49108",this.currentLayer.description="",this.creatable=!0,this.isRightVisible=!1},getLastData:function(){1===this.count?this.$message({message:"已经是第一张了！",type:"warning"}):this.confirm?(this.integrateRes(),this.postTaskImage(this.assignmentId,this.count),this.clearAll(),this.count--,this.getTaskImage(this.assignmentId,this.count),this.nextMessage="下一张"):this.$message({message:"有未确定的标注！",type:"warning"})},getNextData:function(){var t=this;this.confirm?(this.integrateRes(),this.count<this.size?(this.postTaskImage(this.assignmentId,this.count),"doTask"===this.state&&this.count===this.max&&(this.addProgress(this.assignmentId),this.max++),this.clearAll(),this.count++,this.getTaskImage(this.assignmentId,this.count),this.count===this.size&&("doTask"===this.state?this.nextMessage="提交":this.nextMessage="保存修改")):"doTask"===this.state?this.$confirm("此任务已完成，是否提交？","提示",{confirmButtonText:"提交",cancelButtonText:"暂存",type:"info"}).then(function(){t.postTaskImage(t.assignmentId,t.count),t.submit(t.assignmentId),t.$router.push("/taskCenter")}).catch(function(){t.postTaskImage(t.assignmentId,t.count),t.$router.push("/taskCenter")}):this.$confirm("已保存修改，是否退出？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"info"}).then(function(){t.postTaskImage(t.assignmentId,t.count),t.$router.push("/taskCenter")}).catch(function(){t.postTaskImage(t.assignmentId,t.count)})):this.$message({message:"有未确定的标注！",type:"warning"})},postTaskImage:function(t,e){var s=new FormData,a=l()(this.res);s.append("anno",a),this.$api.post("assignment/"+t+"/"+e,s)},addProgress:function(t){this.$api.get("assignment/"+t+"/progress",null,function(t){})},submit:function(t){var e=this;this.$api.get("assignment/"+t+"/progress",null,function(s){s.success&&e.$api.get("assignment/"+t+"/submit",null,function(t){})})},integrateRes:function(){this.res.boxes=[];for(var t=0;t<this.layerList.length;t++)if(this.layerList[t].isExist){var e={};e.xpos=this.layerList[t].newLabel.xpos,e.ypos=this.layerList[t].newLabel.ypos,e.width=this.layerList[t].newLabel.width,e.height=this.layerList[t].newLabel.height,e.colorHex=this.layerList[t].color,e.tags=[];for(var s=0;s<this.layerList[t].attrs.length;s++){var a=u()({},this.layerList[t].attrs[s]);e.tags.push(a)}this.res.boxes.push(e)}console.log(this.res)},clearAll:function(){for(var t=document.getElementById("img-panel-background"),e=document.getElementById("layer"),s=0;s<this.labelTotal;s++){var a=document.getElementById("label_"+s);null!==a&&t.removeChild(a);var i=document.getElementById("layer_"+s);null!==i&&e.removeChild(i)}this.labelTotal=0,this.selected=-1,this.creatable=!0,this.isRightVisible=!1,this.confirm=!0,this.currentLayer={newLabel:{},attrs:[],color:"#F49108",description:"",isExist:!0},this.layerList=[]},onseenclick:function(t){var e=t.target,s=e.parentNode.id.split("_")[1],a=document.getElementById("label_"+s);1==e.isDisabled?(e.isDisabled=!1,e.style.color="black",a.style.width=this.layerList[s].newLabel.width+"px",a.style.height=this.layerList[s].newLabel.height+"px",a.style.borderColor=this.layerList[s].color):(e.isDisabled=!0,e.style.color="lightgray",a.style.width="0px",a.style.height="0px",a.style.borderColor="transparent")},onlayerNameclick:function(t){if(this.confirm){var e=t.target.parentNode.id.split("_")[1];this.selected=e;document.getElementById("label_"+e);this.currentLayer=this.layerList[e],console.log(this.currentLayer);for(var s=0;s<this.attrCopy.length;s++)this.attrCopy[s].res=this.currentLayer.attrs[s].name;this.isRightVisible=!0,this.confirm=!1,this.buttonMessage="保存修改"}else this.$message({message:"有未确定的标注！",type:"info"})},onremoveclick:function(t){var e=this;this.confirm?this.$confirm("确认删除么","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s=t.target,a=s.parentNode.id.split("_")[1],i=document.getElementById("label_"+a);console.log(s.parentNode.id),s.parentNode.parentNode.removeChild(s.parentNode);var n=document.getElementById("layer").style;console.log(n),i.parentNode.removeChild(i),e.layerList[a].isExist=!1,e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"有未确定的标注！",type:"info"})}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",[s("el-header",{staticStyle:{height:"50px"},attrs:{id:"header"}},[s("task-header",{attrs:{taskName:t.taskName}})],1),t._v(" "),s("el-container",{staticStyle:{"padding-top":"0"}},[s("el-aside",{staticStyle:{border:"lightgray 1px solid"},attrs:{id:"left-side",width:"13%"}},[s("div",{staticStyle:{height:"55px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("el-col",{staticStyle:{"padding-top":"15px"},attrs:{span:12}},[s("span",{staticStyle:{color:"#101010"}},[t._v("边框颜色")])]),t._v(" "),s("el-col",{staticStyle:{"padding-top":"10px"},attrs:{span:12}},[s("el-color-picker",{model:{value:t.currentLayer.color,callback:function(e){t.$set(t.currentLayer,"color",e)},expression:"currentLayer.color"}})],1)],1),t._v(" "),s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("p",{staticStyle:{color:"#101010"}},[t._v("图层")])]),t._v(" "),s("div",{staticStyle:{overflow:"auto","max-height":"560px"},attrs:{id:"layer"}})]),t._v(" "),s("el-container",{staticStyle:{"text-align":"center"}},[s("el-header",{staticStyle:{"vertical-align":"middle",height:"50px","padding-left":"30px","padding-right":"30px","padding-top":"20px"}},[s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010"},attrs:{type:"text"},on:{click:t.getLastData}},[s("a",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"14px","font-family":"Roboto"}},[t._v("上一张")])])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px"},attrs:{type:"text"}},[t._v("\n                "+t._s(t.count)+"/"+t._s(t.size)+"\n              ")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010","font-size":"14px","font-family":"Roboto"},attrs:{type:"text"},on:{click:t.getNextData}},[t._v("\n                "+t._s(t.nextMessage)+"\n                "),s("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),t._v(" "),s("el-main",{staticStyle:{"padding-top":"5px"}},[s("div",{attrs:{id:"img-panel"}},[s("div",{staticStyle:{position:"absolute"},attrs:{id:"img-panel-background"}},[s("img",{staticStyle:{background:"no-repeat center center","background-size":"contain",position:"absolute","z-index":"1"},attrs:{id:"img-area-self",src:t.pic,draggable:"false"},on:{mousedown:t.mouse_down,mousemove:t.mouse_move,mouseup:t.mouse_up}})])])])],1),t._v(" "),s("el-aside",{staticStyle:{width:"13%",border:"lightgray 1px solid"}},[s("div",[s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("p",[t._v("属性")])]),t._v(" "),s("div",{staticStyle:{height:"350px","border-bottom":"lightgray 1px solid"}},[s("div",{staticClass:"tags"},t._l(t.attrCopy,function(e){return s("div",[s("p",{staticStyle:{color:"#101010","font-size":"13px"}},[t._v(t._s(e.name))]),t._v(" "),s("el-select",{staticStyle:{height:"30px"},attrs:{placeholder:"请选择",disabled:!t.isRightVisible,filterable:"",clearable:"",size:"mini","default-first-option":"","allow-create":""},model:{value:e.res,callback:function(s){t.$set(e,"res",s)},expression:"item.res"}},t._l(e.tags,function(t){return s("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)}))]),t._v(" "),s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("span",[t._v("描述")])]),t._v(" "),s("div",{staticStyle:{height:"100px"}},[s("el-input",{staticStyle:{"padding-top":"5px"},attrs:{type:"textarea",disabled:!t.isRightVisible,autosize:"",placeholder:"请输入内容"},model:{value:t.currentLayer.description,callback:function(e){t.$set(t.currentLayer,"description",e)},expression:"currentLayer.description"}})],1),t._v(" "),s("div",{staticStyle:{"padding-top":"20px","text-align":"center"}},[s("el-button",{attrs:{size:"mini",type:"danger",round:"",disabled:!t.isRightVisible},on:{click:t.confirmInfo}},[t._v(t._s(t.buttonMessage))])],1)])])],1)],1)],1)},staticRenderFns:[]};var w=s("VU/8")(k,_,!1,function(t){s("Iiux")},null,null).exports,I={components:{ElMain:m,ElContainer:p,"task-header":v},name:"whole-classification",data:function(){return{pic:"",w:0,h:0,attrCopy:{},id:"",count:0,size:0}},created:function(){this.id=this.$route.params.id,this.getTaskName(this.id),this.getTaskTags(this.id),this.getFirstImage(this.id)},methods:{getTaskName:function(t){},getTaskTags:function(t){},getNextData:function(){},getFirstImage:function(t){},postData:function(){}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("el-header",[s("task-header",{attrs:{taskName:t.taskName}})],1),t._v(" "),s("el-main",[s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:16}},[s("div",{attrs:{id:"img-panel"}},[s("div",{staticStyle:{position:"absolute"},style:{width:t.w,height:t.h},attrs:{id:"img-panel-background",width:t.w,height:t.h}},[s("div",{staticStyle:{background:"no-repeat center center","background-size":"contain",position:"absolute","z-index":"1"},style:{width:t.w,height:t.h,backgroundImage:"url("+t.pic+")"},attrs:{id:"img-area-self"}})])])]),t._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"tags"},[s("div",{staticStyle:{float:"right"}},t._l(t.attrCopy,function(e){return s("div",[s("span",[s("p",{staticStyle:{color:"coral","font-family":"Arial"}},[t._v(t._s(e.name))]),t._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.res,callback:function(s){t.$set(e,"res",s)},expression:"item.res"}},t._l(e.tags,function(t){return s("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)])}))])])],1),t._v(" "),s("el-row",{staticClass:"foot"},[s("el-col",{attrs:{span:24}},[s("el-button",{attrs:{id:"nextButton",type:"danger",height:"20",round:""},on:{click:t.nextData}},[t._v("下一张")])],1)],1)],1)],1)},staticRenderFns:[]};var A=s("VU/8")(I,S,!1,function(t){s("aLJE")},null,null).exports,C={components:{ElAside:b,ElMain:m,ElContainer:p,"task-header":v},name:"part-classification-done-check",data:function(){return{pic:"",size:0,count:1,labelTotal:0,taskName:"",task:{},assign:{},taskId:"",assignmentId:"",workerId:"",selected:-1,res:{},currentLayer:{newLabel:{},attrs:[],color:"#F49108",description:"",isExist:!0},attrCopy:[],layerList:[],description:"无"}},created:function(){this.taskId=this.$route.params.taskId,this.assignmentId=this.$route.params.assignmentId,this.workerId=this.$route.params.workerId,this.getTaskInfo(this.taskId),this.getTaskName(this.taskId),this.getAssignment(this.taskId,this.assignmentId,this.workerId)},destroyed:function(){},methods:{getTaskName:function(t){var e=this;this.$api.get("task/"+t+"/brief",null,function(t){e.taskName=t.data.taskName,e.task=t.data})},getTaskInfo:function(t){var e=this;this.$api.get("task/"+t+"/attributes",null,function(t){e.attrCopy=t.data;for(var s=0;s<t.data.length;s++)e.attrCopy.attrs[s].res="";console.log(e.attrCopy)})},getAssignment:function(t,e,s){var a=this;this.$api.get("assignment/"+e,null,function(t){a.assign=t.data,a.count=1,a.size=t.data.size,a.$api.get("assignment/"+a.assignmentId+"/"+a.count,null,function(t){a.res=t.data,a.pic="http://localhost:8080/"+t.data.imageUrl,a.labelTotal=0;for(var e=0;e<a.res.boxes.length;e++){var s={newLabel:{},attrs:[],color:"#F49108",description:"",isExist:!0};s.newLabel.xpos=a.res.boxes[e].xpos,s.newLabel.ypos=a.res.boxes[e].ypos,s.newLabel.width=a.res.boxes[e].width,s.newLabel.height=a.res.boxes[e].height,s.color=a.res.boxes[e].colorHex;for(var i=0;i<a.res.boxes[e].tags.length;i++){var n=u()({},a.res.boxes[e].tags[i]);s.attrs.push(n)}a.layerList.push(s)}console.log(a.res.boxes);for(var o=0;o<a.res.boxes.length;o++){var r=document.createElement("div");r.id="label_"+a.labelTotal,r.className="box",r.style.zIndex=2,r.style.left=a.res.boxes[o].xpos+"px",r.style.top=a.res.boxes[o].ypos+"px",r.style.width=a.res.boxes[o].width+"px",r.style.height=a.res.boxes[o].height+"px",r.style.borderColor=a.res.boxes[o].colorHex,document.getElementById("img-panel-background").appendChild(r),a.labelTotal++,a.addLayer()}})})},getTaskImage:function(t,e){var s=this;this.$api.get("assignment/"+t+"/"+e,null,function(t){s.res=t.data;var e="http://localhost:8080/"+t.data.imageUrl;s.pic=e,s.labelTotal=0;for(var a=0;a<s.res.boxes.length;a++){var i={newLabel:{},attrs:[],color:"#F49108",description:"",isExist:!0};i.newLabel.xpos=s.res.boxes[a].xpos,i.newLabel.ypos=s.res.boxes[a].ypos,i.newLabel.width=s.res.boxes[a].width,i.newLabel.height=s.res.boxes[a].height,i.color=s.res.boxes[a].colorHex;for(var n=0;n<s.res.boxes[a].tags.length;n++){var o=u()({},s.res.boxes[a].tags[n]);i.attrs.push(o)}s.layerList.push(i)}console.log(s.res.boxes);for(var r=0;r<s.res.boxes.length;r++){var l=document.createElement("div");l.id="label_"+s.labelTotal,l.className="box",l.style.zIndex=2,l.style.left=s.res.boxes[r].xpos+"px",l.style.top=s.res.boxes[r].ypos+"px",l.style.width=s.res.boxes[r].width+"px",l.style.height=s.res.boxes[r].height+"px",l.style.borderColor=s.res.boxes[r].colorHex,document.getElementById("img-panel-background").appendChild(l),s.labelTotal++,s.addLayer()}})},addLayer:function(){var t=document.createElement("div");t.id="layer_"+(this.labelTotal-1),t.style.height="40px",t.style.lineHeight="40px",t.style.fontSize="14px",t.style.fontFamily="Roboto",t.style.borderBottom="lightgray 1px solid";var e=document.getElementById("layer");console.log(e.style),document.getElementById("layer").appendChild(t);var s=document.createElement("i");s.className="el-icon-view",s.style.width="30px",s.style.color="black",s.style.paddingLeft="5px",s.style.paddingTop="13px",s.style.float="left",s.style.cursor="pointer",t.appendChild(s),s.onclick=this.onseenclick;var a=document.createElement("el-button");a.type="text",a.style.cursor="pointer",a.style.fontFamily="Roboto",a.style.fontSize="14px",a.style.marginLeft="22px",a.style.width="35px",t.appendChild(a),a.innerHTML="图层"+this.labelTotal,a.style.color=this.layerList[this.labelTotal-1].color,a.onclick=this.onlayerNameclick},getLastData:function(){1===this.count?this.$message({message:"已经是第一张了！",type:"warning"}):(this.clearAll(),this.count--,this.getTaskImage(this.assignmentId,this.count))},getNextData:function(){var t=this;this.count<this.size?(this.clearAll(),this.count++,this.getTaskImage(this.assignmentId,this.count)):this.$confirm("已经是最后一张，是否退出？","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"info"}).then(function(){t.$router.push("/taskCenter")}).catch(function(){})},clearAll:function(){for(var t=document.getElementById("img-panel-background"),e=document.getElementById("layer"),s=0;s<this.labelTotal;s++){var a=document.getElementById("label_"+s);null!==a&&t.removeChild(a);var i=document.getElementById("layer_"+s);null!==i&&e.removeChild(i)}this.labelTotal=0,this.selected=-1,this.currentLayer={newLabel:{},attrs:[],color:"#F49108",description:"",isExist:!0},this.layerList=[]},onseenclick:function(t){var e=t.target,s=e.parentNode.id.split("_")[1],a=document.getElementById("label_"+s);1==e.isDisabled?(e.isDisabled=!1,e.style.color="black",a.style.width=this.layerList[s].newLabel.width+"px",a.style.height=this.layerList[s].newLabel.height+"px",a.style.borderColor=this.layerList[s].color):(e.isDisabled=!0,e.style.color="lightgray",a.style.width="0px",a.style.height="0px",a.style.borderColor="transparent")},onlayerNameclick:function(t){var e=t.target.parentNode.id.split("_")[1];this.selected=e;document.getElementById("label_"+e);this.currentLayer=this.layerList[e],console.log(this.currentLayer);for(var s=0;s<this.attrCopy.length;s++)this.attrCopy[s].res=this.currentLayer.attrs[s].name}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",[s("el-header",{staticStyle:{height:"50px"},attrs:{id:"header"}},[s("task-header",{attrs:{taskName:t.taskName}})],1),t._v(" "),s("el-container",{staticStyle:{"padding-top":"0"}},[s("el-aside",{staticStyle:{border:"lightgray 1px solid"},attrs:{id:"left-side",width:"13%"}},[s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("p",{staticStyle:{color:"#101010"}},[t._v("图层")])]),t._v(" "),s("div",{staticStyle:{overflow:"auto","max-height":"560px"},attrs:{id:"layer"}})]),t._v(" "),s("el-container",{staticStyle:{"text-align":"center"}},[s("el-header",{staticStyle:{"vertical-align":"middle",height:"50px","padding-left":"30px","padding-right":"30px","padding-top":"20px"}},[s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010"},attrs:{type:"text"},on:{click:t.getLastData}},[s("a",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"14px","font-family":"Roboto"}},[t._v("上一张")])])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px"},attrs:{type:"text"}},[t._v("\n              "+t._s(t.count)+"/"+t._s(t.size)+"\n            ")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010","font-size":"14px","font-family":"Roboto"},attrs:{type:"text"},on:{click:t.getNextData}},[t._v("\n              下一张\n              "),s("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),t._v(" "),s("el-main",{staticStyle:{"padding-top":"5px"}},[s("div",{attrs:{id:"img-panel"}},[s("div",{staticStyle:{position:"absolute"},attrs:{id:"img-panel-background"}},[s("img",{staticStyle:{background:"no-repeat center center","background-size":"contain",position:"absolute","z-index":"1"},attrs:{id:"img-area-self",src:t.pic,draggable:"false/"}})])])])],1),t._v(" "),s("el-aside",{staticStyle:{width:"13%",border:"lightgray 1px solid"}},[s("div",[s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("p",[t._v("属性")])]),t._v(" "),s("div",{staticStyle:{height:"350px","border-bottom":"lightgray 1px solid"}},[s("div",{staticClass:"tags"},t._l(t.attrCopy,function(e){return s("div",[s("p",{staticStyle:{color:"#101010","font-size":"13px"}},[t._v(t._s(e.name))]),t._v(" "),s("el-select",{staticStyle:{height:"30px"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"mini","default-first-option":"","allow-create":""},model:{value:e.res,callback:function(s){t.$set(e,"res",s)},expression:"item.res"}},t._l(e.tags,function(t){return s("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)}))]),t._v(" "),s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("span",[t._v("描述")])]),t._v(" "),s("div",{staticStyle:{height:"200px","text-align":"center"}},[t._v("\n            "+t._s(t.description)+"\n          ")])])])],1)],1)],1)},staticRenderFns:[]};var E=s("VU/8")(C,T,!1,function(t){s("iprF")},null,null).exports,L={components:{ElAside:b,ElMain:m,ElContainer:p,"task-header":v},name:"detection",data:function(){return{pic:"",size:0,count:1,labelTotal:0,max:1,startX:0,startY:0,isMouseDown:!1,isMouseMove:!1,taskName:"",task:{},assign:{},taskId:"",assignmentId:"",workerId:"",state:"",buttonMessage:"确认",selected:-1,res:{},creatable:!1,isRightVisible:!1,confirm:!0,currentLayer:{newLabel:{},tag:{name:"",colorHex:"#F49108"},description:"",isExist:!0},layerList:[],tag:[],nextMessage:"下一张"}},created:function(){this.state=this.$route.params.state,this.taskId=this.$route.params.taskId,this.assignmentId=this.$route.params.assignmentId,this.workerId=this.$route.params.workerId,this.getTaskInfo(this.taskId),this.getTaskName(this.taskId),this.getAssignment(this.taskId,this.assignmentId,this.workerId)},destroyed:function(){this.integrateRes(),this.postTaskImage(this.assignmentId,this.count)},methods:{getTaskName:function(t){var e=this;this.$api.get("task/"+t+"/brief",null,function(t){e.taskName=t.data.taskName,e.task=t.data})},getTaskInfo:function(t){var e=this;this.$api.get("task/"+t+"/attributes",null,function(t){e.tag=t.data[0].tags})},getAssignment:function(t,e,s){var a=this;this.$api.get("assignment/"+e,null,function(t){0===t.data.progress&&a.$api.get("/assignment/"+e+"/begin",null),a.assign=t.data,"doTask"===a.state?(a.count=t.data.progress+1,a.max=a.count,a.size=t.data.size,a.count===a.size&&(a.nextMessage="提交")):"checkTask"===a.state&&(a.count=1,a.size=t.data.progress),a.$api.get("assignment/"+a.assignmentId+"/"+a.count,null,function(t){a.res=t.data,a.pic="http://localhost:8080/"+t.data.imageUrl,a.labelTotal=0,console.log(a.res.boxes);for(var e=0;e<a.res.boxes.length;e++){var s={newLabel:{},tag:{name:"",colorHex:"#F49108"},description:"",isExist:!0};s.newLabel.xpos=a.res.boxes[e].xpos,s.newLabel.ypos=a.res.boxes[e].ypos,s.newLabel.width=a.res.boxes[e].width,s.newLabel.height=a.res.boxes[e].height,s.tag=u()({},a.res.boxes[e].tags[0]),a.layerList.push(s)}for(var i=0;i<a.res.boxes.length;i++){console.log(a.layerList);var n=document.createElement("div");n.id="label_"+a.labelTotal,n.className="box",n.style.zIndex=2,n.style.left=a.res.boxes[i].xpos+"px",n.style.top=a.res.boxes[i].ypos+"px",n.style.width=a.res.boxes[i].width+"px",n.style.height=a.res.boxes[i].height+"px",n.style.borderColor=a.res.boxes[i].tags[0].colorHex,document.getElementById("img-panel-background").appendChild(n),a.labelTotal++,a.addLayer()}})})},setName:function(t){this.confirm?(this.creatable=!0,this.currentLayer.tag.name=t):this.$message({message:"有未确认的标注",type:"info"})},mouse_down:function(t){if(this.creatable){this.isMouseDown=!0,this.startX=t.offsetX,this.startY=t.offsetY;var e=document.createElement("div");e.id="label_"+this.labelTotal,e.className="box",e.onmousemove=this.boxmove,e.onmouseup=this.boxup,e.style.borderColor=this.currentLayer.tag.colorHex,document.getElementById("img-panel-background").appendChild(e),e=null}else this.$message({message:"请先选择标签！",type:"warning"})},boxmove:function(t){if(this.isMouseDown){var e=document.getElementById("label_"+this.labelTotal);if(null!==e){var s=t.offsetX,a=t.offsetY;s+=e.offsetLeft,a+=e.offsetTop,this.drawRectangle(this.startX,this.startY,s,a)}}},boxup:function(t){if(this.isMouseDown&&this.isMouseMove){var e=document.getElementById("label_"+this.labelTotal);if(null!==e){if(e.offsetHeight<3||e.offsetWidth<3)document.getElementById("img-panel-background").removeChild(e);else this.currentLayer.newLabel.xpos=e.offsetLeft,this.currentLayer.newLabel.ypos=e.offsetTop,this.currentLayer.newLabel.width=e.offsetWidth,this.currentLayer.newLabel.height=e.offsetHeight,this.isRightVisible=!0,this.creatable=!1,this.confirm=!1,this.labelTotal++;this.isMouseDown=!1,this.isMouseMove=!1}}},mouse_move:function(t){if(this.isMouseDown&&(this.isMouseMove=!0,null!==document.getElementById("label_"+this.labelTotal))){var e=t.offsetX,s=t.offsetY;this.drawRectangle(this.startX,this.startY,e,s)}},drawRectangle:function(t,e,s,a){var i=s-t,n=a-e,o=e,r=t;i<0&&(i=0-i,r=s),n<0&&(n=0-n,o=a);var l=document.getElementById("label_"+this.labelTotal);l.style.left=r+"px",l.style.top=o+"px",l.style.width=i+"px",l.style.height=n+"px",l.style.zIndex=2},mouse_up:function(t){if(this.isMouseDown&&this.isMouseMove){var e=document.getElementById("label_"+this.labelTotal);if(null!==e){if(e.offsetHeight<3||e.offsetWidth<3)document.getElementById("img-panel-background").removeChild(e);else this.currentLayer.newLabel.xpos=e.offsetLeft,this.currentLayer.newLabel.ypos=e.offsetTop,this.currentLayer.newLabel.width=e.offsetWidth,this.currentLayer.newLabel.height=e.offsetHeight,this.labelTotal++,this.isRightVisible=!0,this.creatable=!1,this.confirm=!1;this.isMouseDown=!1,this.isMouseMove=!1}}},confirmInfo:function(){if(this.confirm=!0,"确认"===this.buttonMessage){var t=u()({},this.currentLayer);t.tag=u()({},this.currentLayer.tag),this.layerList.push(t),this.addLayer()}else"保存修改"===this.buttonMessage&&(this.layerList[this.selected]=u()({},this.currentLayer),console.log(this.layerList[this.selected]),this.buttonMessage="确认");this.currentLayer.description="",this.currentLayer.tag.name="",this.currentLayer.tag.colorHex="#F49108",this.currentLayer.newLabel={},this.isRightVisible=!1},getLastData:function(){1===this.count?this.$message({message:"已经是第一张了！",type:"warning"}):this.confirm?(this.integrateRes(),this.postTaskImage(this.assignmentId,this.count),this.clearAll(),this.count--,this.getTaskImage(this.assignmentId,this.count),this.nextMessage="下一张"):this.$message({message:"有未确定的标注！",type:"warning"})},getNextData:function(){var t=this;this.confirm?(this.integrateRes(),this.count<this.size?(this.postTaskImage(this.assignmentId,this.count),"doTask"===this.state&&this.count===this.max&&(this.addProgress(this.assignmentId),this.max++),this.clearAll(),this.count++,this.getTaskImage(this.assignmentId,this.count),this.count===this.size&&("doTask"===this.state?this.nextMessage="提交":this.nextMessage="保存修改")):"doTask"===this.state?this.$confirm("此任务已完成，是否提交？","提示",{confirmButtonText:"提交",cancelButtonText:"暂存",type:"info"}).then(function(){t.postTaskImage(t.assignmentId,t.count),t.submit(t.assignmentId),t.$router.push("/taskCenter")}).catch(function(){t.postTaskImage(t.assignmentId,t.count),t.$router.push("/taskCenter")}):this.$confirm("已保存修改，是否退出？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"info"}).then(function(){t.postTaskImage(t.assignmentId,t.count),t.$router.push("/taskCenter")}).catch(function(){t.postTaskImage(t.assignmentId,t.count)})):this.$message({message:"有未确定的标注！",type:"warning"})},addProgress:function(t){this.$api.get("assignment/"+t+"/progress",null,function(t){})},integrateRes:function(){this.res.boxes=[];for(var t=0;t<this.layerList.length;t++)if(this.layerList[t].isExist){var e={};e.xpos=this.layerList[t].newLabel.xpos,e.ypos=this.layerList[t].newLabel.ypos,e.width=this.layerList[t].newLabel.width,e.height=this.layerList[t].newLabel.height,e.colorHex="#FFFFFF",e.tags=[];var s=u()({},this.layerList[t].tag);e.tags.push(s),this.res.boxes.push(e)}console.log(this.res)},clearAll:function(){for(var t=document.getElementById("img-panel-background"),e=document.getElementById("layer"),s=0;s<this.labelTotal;s++){var a=document.getElementById("label_"+s);null!==a&&t.removeChild(a);var i=document.getElementById("layer_"+s);null!==i&&e.removeChild(i)}this.labelTotal=0,this.selected=-1,this.creatable=!1,this.isRightVisible=!1,this.confirm=!0,this.currentLayer={newLabel:{},tag:{name:"",colorHex:"#F49108"},description:"",isExist:!0},this.layerList=[]},submit:function(t){var e=this;this.$api.get("assignment/"+t+"/progress",null,function(s){s.success&&e.$api.get("assignment/"+t+"/submit",null,function(t){})})},postTaskImage:function(t,e){var s=new FormData,a=l()(this.res);s.append("anno",a),this.$api.post("assignment/"+t+"/"+e,s)},getTaskImage:function(t,e){var s=this;this.$api.get("assignment/"+t+"/"+e,null,function(t){s.res=t.data,s.pic="http://localhost:8080/"+t.data.imageUrl,s.labelTotal=0,console.log(s.res.boxes);for(var e=0;e<s.res.boxes.length;e++){var a={newLabel:{},tag:{name:"",colorHex:"#F49108"},description:"",isExist:!0};a.newLabel.xpos=s.res.boxes[e].xpos,a.newLabel.ypos=s.res.boxes[e].ypos,a.newLabel.width=s.res.boxes[e].width,a.newLabel.height=s.res.boxes[e].height,a.tag=u()({},s.res.boxes[e].tags[0]),s.layerList.push(a)}for(var i=0;i<s.res.boxes.length;i++){var n=document.createElement("div");n.id="label_"+s.labelTotal,n.className="box",n.style.zIndex=2,n.style.left=s.res.boxes[i].xpos+"px",n.style.top=s.res.boxes[i].ypos+"px",n.style.width=s.res.boxes[i].width+"px",n.style.height=s.res.boxes[i].height+"px",n.style.borderColor=s.res.boxes[i].tags[0].colorHex,document.getElementById("img-panel-background").appendChild(n),s.labelTotal++,s.addLayer()}})},addLayer:function(){var t=document.createElement("div");t.id="layer_"+(this.labelTotal-1),t.style.height="40px",t.style.lineHeight="40px",t.style.fontSize="14px",t.style.fontFamily="Roboto",t.style.borderBottom="lightgray 1px solid";var e=document.getElementById("layer");console.log(e.style),document.getElementById("layer").appendChild(t);var s=document.createElement("i");s.className="el-icon-view",s.style.width="30px",s.style.color="black",s.style.paddingLeft="5px",s.style.paddingTop="13px",s.style.float="left",s.style.cursor="pointer",t.appendChild(s),s.onclick=this.onseenclick;var a=document.createElement("el-button");a.type="text",a.style.cursor="pointer",a.style.fontFamily="Roboto",a.style.fontSize="14px",a.style.marginLeft="22px",a.style.width="35px",t.appendChild(a),a.innerHTML=this.layerList[this.labelTotal-1].tag.name,a.style.color=this.layerList[this.labelTotal-1].tag.colorHex,a.onclick=this.onlayerNameclick;var i=document.createElement("a");i.className="el-icon-remove",i.style.float="right",i.style.paddingRight="5px",i.style.paddingTop="13px",i.style.cursor="pointer",t.appendChild(i),i.onclick=this.onremoveclick},onseenclick:function(t){var e=t.target,s=e.parentNode.id.split("_")[1],a=document.getElementById("label_"+s);1==e.isDisabled?(e.isDisabled=!1,e.style.color="black",a.style.width=this.layerList[s].newLabel.width+"px",a.style.height=this.layerList[s].newLabel.height+"px",a.style.borderColor=this.layerList[s].tag.colorHex,console.log("on")):(e.isDisabled=!0,e.style.color="lightgray",a.style.width="0px",a.style.height="0px",a.style.borderColor="transparent",console.log("off"))},onlayerNameclick:function(t){if(this.confirm){var e=t.target.parentNode.id.split("_")[1];this.selected=e;document.getElementById("label_"+e);this.currentLayer=u()({},this.layerList[e]),this.currentLayer.tag=u()({},this.layerList[e].tag),this.isRightVisible=!0,this.confirm=!1,this.buttonMessage="保存修改"}else this.$message({message:"有未确定的标注！",type:"info"})},onremoveclick:function(t){var e=this;this.confirm?this.$confirm("确认删除么","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s=t.target,a=s.parentNode.id.split("_")[1],i=document.getElementById("label_"+a);console.log(s.parentNode.id),s.parentNode.parentNode.removeChild(s.parentNode);var n=document.getElementById("layer").style;console.log(n),i.parentNode.removeChild(i),e.layerList[a].isExist=!1,e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"有未确定的标注！",type:"info"})}}},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",[s("el-header",{staticStyle:{height:"50px"},attrs:{id:"header"}},[s("task-header",{attrs:{taskName:t.taskName}})],1),t._v(" "),s("el-container",{staticStyle:{"padding-top":"0"}},[s("el-aside",{staticStyle:{border:"lightgray 1px solid"},attrs:{id:"left-side",width:"13%"}},[s("div",{staticStyle:{height:"55px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("el-col",{staticStyle:{"padding-top":"15px"},attrs:{span:12}},[s("span",{staticStyle:{color:"#101010"}},[t._v("边框颜色")])]),t._v(" "),s("el-col",{staticStyle:{"padding-top":"10px"},attrs:{span:12}},[s("el-color-picker",{model:{value:t.currentLayer.tag.colorHex,callback:function(e){t.$set(t.currentLayer.tag,"colorHex",e)},expression:"currentLayer.tag.colorHex"}})],1)],1),t._v(" "),s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("p",{staticStyle:{color:"#101010"}},[t._v("图层")])]),t._v(" "),s("div",{staticStyle:{overflow:"auto","max-height":"560px"},attrs:{id:"layer"}})]),t._v(" "),s("el-container",{staticStyle:{"text-align":"center"}},[s("el-header",{staticStyle:{"vertical-align":"middle",height:"50px","padding-left":"30px","padding-right":"30px","padding-top":"20px"}},[s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010"},attrs:{type:"text"},on:{click:t.getLastData}},[s("a",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"14px","font-family":"Roboto"}},[t._v("上一张")])])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px"},attrs:{type:"text"}},[t._v("\n              "+t._s(t.count)+"/"+t._s(t.size)+"\n            ")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010","font-size":"14px","font-family":"Roboto"},attrs:{type:"text"},on:{click:t.getNextData}},[t._v("\n              "+t._s(t.nextMessage)+"\n              "),s("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),t._v(" "),s("el-main",{staticStyle:{"padding-top":"5px"}},[s("div",{attrs:{id:"img-panel"}},[s("div",{staticStyle:{position:"absolute"},attrs:{id:"img-panel-background"}},[s("img",{staticStyle:{background:"no-repeat center center","background-size":"contain",position:"absolute","z-index":"1"},attrs:{id:"img-area-self",src:t.pic,draggable:"false"},on:{mousedown:t.mouse_down,mousemove:t.mouse_move,mouseup:t.mouse_up}})])])])],1),t._v(" "),s("el-aside",{staticStyle:{width:"13%",border:"lightgray 1px solid"}},[s("div",[s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("p",[t._v("属性")])]),t._v(" "),s("div",{staticStyle:{height:"350px","border-bottom":"lightgray 1px solid"}},[s("div",{staticClass:"tags"},[s("ul",{staticClass:"buttonUL"},t._l(t.tag,function(e){return s("li",{staticStyle:{display:"block",margin:"5px",float:"left"}},[s("div",[s("el-col",{attrs:{span:22}},[s("el-button",{attrs:{width:"10",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){t.setName(e.name)}}},[t._v(t._s(e.name))])],1),t._v(" "),s("el-col",{staticStyle:{"padding-top":"5px",color:"lightgreen"},attrs:{span:2}},[t.currentLayer.tag.name===e.name?s("i",{staticClass:"el-icon-circle-check"}):t._e()])],1)])}))])]),t._v(" "),s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("span",[t._v("描述")])]),t._v(" "),s("div",{staticStyle:{height:"100px"}},[s("el-input",{staticStyle:{"padding-top":"5px"},attrs:{type:"textarea",disabled:!t.isRightVisible,autosize:"",placeholder:"请输入内容"},model:{value:t.currentLayer.description,callback:function(e){t.$set(t.currentLayer,"description",e)},expression:"currentLayer.description"}})],1),t._v(" "),s("div",{staticStyle:{"padding-top":"20px","text-align":"center"}},[s("el-button",{attrs:{size:"mini",type:"danger",round:"",disabled:!t.isRightVisible},on:{click:t.confirmInfo}},[t._v(t._s(t.buttonMessage))])],1)])])],1)],1)],1)},staticRenderFns:[]};var B=s("VU/8")(L,z,!1,function(t){s("23Cm")},null,null).exports,R={components:{ElAside:b,ElMain:m,ElContainer:p,"task-header":v},name:"detection-done-check",data:function(){return{pic:"",size:0,count:1,labelTotal:0,taskName:"",task:{},assign:{},taskId:"",assignmentId:"",workerId:"",selected:-1,res:{},currentLayer:{newLabel:{},tag:{name:"",colorHex:"#F49108"},description:"",isExist:!0},layerList:[],tag:[],description:"无"}},created:function(){this.taskId=this.$route.params.taskId,this.assignmentId=this.$route.params.assignmentId,this.workerId=this.$route.params.workerId,this.getTaskInfo(this.taskId),this.getTaskName(this.taskId),this.getAssignment(this.taskId,this.assignmentId,this.workerId)},destroyed:function(){},methods:{getTaskName:function(t){var e=this;this.$api.get("task/"+t+"/brief",null,function(t){e.taskName=t.data.taskName,e.task=t.data})},getTaskInfo:function(t){var e=this;this.$api.get("task/"+t+"/attributes",null,function(t){e.tag=t.data[0].tags})},getAssignment:function(t,e,s){var a=this;this.$api.get("assignment/"+e,null,function(t){a.assign=t.data,a.count=1,a.size=t.data.size,a.$api.get("assignment/"+a.assignmentId+"/"+a.count,null,function(t){a.res=t.data,a.pic="http://localhost:8080/"+t.data.imageUrl,a.labelTotal=0,console.log(a.res.boxes);for(var e=0;e<a.res.boxes.length;e++){var s={newLabel:{},tag:{name:"",colorHex:"#F49108"},description:"",isExist:!0};s.newLabel.xpos=a.res.boxes[e].xpos,s.newLabel.ypos=a.res.boxes[e].ypos,s.newLabel.width=a.res.boxes[e].width,s.newLabel.height=a.res.boxes[e].height,s.tag=u()({},a.res.boxes[e].tags[0]),a.layerList.push(s)}for(var i=0;i<a.res.boxes.length;i++){console.log(a.layerList);var n=document.createElement("div");n.id="label_"+a.labelTotal,n.className="box",n.style.zIndex=2,n.style.left=a.res.boxes[i].xpos+"px",n.style.top=a.res.boxes[i].ypos+"px",n.style.width=a.res.boxes[i].width+"px",n.style.height=a.res.boxes[i].height+"px",n.style.borderColor=a.res.boxes[i].tags[0].colorHex,document.getElementById("img-panel-background").appendChild(n),a.labelTotal++,a.addLayer()}})})},setName:function(t){this.confirm?(this.creatable=!0,this.currentLayer.tag.name=t):this.$message({message:"有未确认的标注",type:"info"})},getLastData:function(){1===this.count?this.$message({message:"已经是第一张了！",type:"warning"}):(this.clearAll(),this.count--,this.getTaskImage(this.assignmentId,this.count))},getNextData:function(){var t=this;this.count<this.size?(this.clearAll(),this.count++,this.getTaskImage(this.assignmentId,this.count)):this.$confirm("已经是最后一张，是否退出？","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"info"}).then(function(){t.$router.push("/taskCenter")}).catch(function(){})},clearAll:function(){for(var t=document.getElementById("img-panel-background"),e=document.getElementById("layer"),s=0;s<this.labelTotal;s++){var a=document.getElementById("label_"+s);null!==a&&t.removeChild(a);var i=document.getElementById("layer_"+s);null!==i&&e.removeChild(i)}this.labelTotal=0,this.selected=-1,this.currentLayer={newLabel:{},tag:{name:"",colorHex:"#F49108"},description:"",isExist:!0},this.layerList=[]},getTaskImage:function(t,e){var s=this;this.$api.get("assignment/"+t+"/"+e,null,function(t){s.res=t.data,s.pic="http://localhost:8080/"+t.data.imageUrl,s.labelTotal=0,console.log(s.res.boxes);for(var e=0;e<s.res.boxes.length;e++){var a={newLabel:{},tag:{name:"",colorHex:"#F49108"},description:"",isExist:!0};a.newLabel.xpos=s.res.boxes[e].xpos,a.newLabel.ypos=s.res.boxes[e].ypos,a.newLabel.width=s.res.boxes[e].width,a.newLabel.height=s.res.boxes[e].height,a.tag=u()({},s.res.boxes[e].tags[0]),s.layerList.push(a)}for(var i=0;i<s.res.boxes.length;i++){var n=document.createElement("div");n.id="label_"+s.labelTotal,n.className="box",n.style.zIndex=2,n.style.left=s.res.boxes[i].xpos+"px",n.style.top=s.res.boxes[i].ypos+"px",n.style.width=s.res.boxes[i].width+"px",n.style.height=s.res.boxes[i].height+"px",n.style.borderColor=s.res.boxes[i].tags[0].colorHex,document.getElementById("img-panel-background").appendChild(n),s.labelTotal++,s.addLayer()}})},addLayer:function(){var t=document.createElement("div");t.id="layer_"+(this.labelTotal-1),t.style.height="40px",t.style.lineHeight="40px",t.style.fontSize="14px",t.style.fontFamily="Roboto",t.style.borderBottom="lightgray 1px solid";var e=document.getElementById("layer");console.log(e.style),document.getElementById("layer").appendChild(t);var s=document.createElement("i");s.className="el-icon-view",s.style.width="30px",s.style.color="black",s.style.paddingLeft="5px",s.style.paddingTop="13px",s.style.float="left",s.style.cursor="pointer",t.appendChild(s),s.onclick=this.onseenclick;var a=document.createElement("el-button");a.type="text",a.style.cursor="pointer",a.style.fontFamily="Roboto",a.style.fontSize="14px",a.style.marginLeft="22px",a.style.width="35px",t.appendChild(a),a.innerHTML=this.layerList[this.labelTotal-1].tag.name,a.style.color=this.layerList[this.labelTotal-1].tag.colorHex,a.onclick=this.onlayerNameclick},onseenclick:function(t){var e=t.target,s=e.parentNode.id.split("_")[1],a=document.getElementById("label_"+s);1==e.isDisabled?(e.isDisabled=!1,e.style.color="black",a.style.width=this.layerList[s].newLabel.width+"px",a.style.height=this.layerList[s].newLabel.height+"px",a.style.borderColor=this.layerList[s].tag.colorHex,console.log("on")):(e.isDisabled=!0,e.style.color="lightgray",a.style.width="0px",a.style.height="0px",a.style.borderColor="transparent",console.log("off"))},onlayerNameclick:function(t){var e=t.target.parentNode.id.split("_")[1];this.selected=e;document.getElementById("label_"+e);this.currentLayer=u()({},this.layerList[e]),this.currentLayer.tag=u()({},this.layerList[e].tag)}}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",[s("el-header",{staticStyle:{height:"50px"},attrs:{id:"header"}},[s("task-header",{attrs:{taskName:t.taskName}})],1),t._v(" "),s("el-container",{staticStyle:{"padding-top":"0"}},[s("el-aside",{staticStyle:{border:"lightgray 1px solid"},attrs:{id:"left-side",width:"13%"}},[s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("p",{staticStyle:{color:"#101010"}},[t._v("图层")])]),t._v(" "),s("div",{staticStyle:{overflow:"auto","max-height":"560px"},attrs:{id:"layer"}})]),t._v(" "),s("el-container",{staticStyle:{"text-align":"center"}},[s("el-header",{staticStyle:{"vertical-align":"middle",height:"50px","padding-left":"30px","padding-right":"30px","padding-top":"20px"}},[s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010"},attrs:{type:"text"},on:{click:t.getLastData}},[s("a",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"14px","font-family":"Roboto"}},[t._v("上一张")])])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px"},attrs:{type:"text"}},[t._v("\n              "+t._s(t.count)+"/"+t._s(t.size)+"\n            ")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010","font-size":"14px","font-family":"Roboto"},attrs:{type:"text"},on:{click:t.getNextData}},[t._v("\n              下一张\n              "),s("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),t._v(" "),s("el-main",{staticStyle:{"padding-top":"5px"}},[s("div",{attrs:{id:"img-panel"}},[s("div",{staticStyle:{position:"absolute"},attrs:{id:"img-panel-background"}},[s("img",{staticStyle:{background:"no-repeat center center","background-size":"contain",position:"absolute","z-index":"1"},attrs:{id:"img-area-self",src:t.pic,draggable:"false"}})])])])],1),t._v(" "),s("el-aside",{staticStyle:{width:"13%",border:"lightgray 1px solid"}},[s("div",[s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("p",[t._v("属性")])]),t._v(" "),s("div",{staticStyle:{height:"350px","border-bottom":"lightgray 1px solid"}},[s("div",{staticClass:"tags"},[s("ul",{staticClass:"buttonUL"},t._l(t.tag,function(e){return s("li",{staticStyle:{display:"block",margin:"5px",float:"left"}},[s("div",[s("el-col",{attrs:{span:22}},[s("el-button",{attrs:{width:"10",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){t.setName(e.name)}}},[t._v(t._s(e.name))])],1),t._v(" "),s("el-col",{staticStyle:{"padding-top":"5px",color:"lightgreen"},attrs:{span:2}},[t.currentLayer.tag.name===e.name?s("i",{staticClass:"el-icon-circle-check"}):t._e()])],1)])}))])]),t._v(" "),s("div",{staticStyle:{height:"40px","line-height":"40px","text-align":"center","font-size":"14px","border-bottom":"lightgray 1px solid"}},[s("span",[t._v("描述")])]),t._v(" "),s("div",{staticStyle:{height:"200px","text-align":"center"}},[s("p",[t._v(t._s(t.description))])])])])],1)],1)],1)},staticRenderFns:[]};var F=s("VU/8")(R,D,!1,function(t){s("zFEB")},null,null).exports,N=s("bOdI"),U=s.n(N),$={name:"ElButton",inject:{elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},methods:{handleClick:function(t){this.$emit("click",t)}}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.disabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round}],attrs:{disabled:t.disabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?s("i",{staticClass:"el-icon-loading"}):t._e(),t._v(" "),t.icon&&!t.loading?s("i",{class:t.icon}):t._e(),t._v(" "),t.$slots.default?s("span",[t._t("default")],2):t._e()])},staticRenderFns:[]},P=s("VU/8")($,M,!1,null,null,null).exports,O=s("ufP2"),H=s("IHkg"),Q=s("Doj+"),q=s("9BW/"),V={name:"ElInput",componentName:"ElInput",mixins:[O.a,H.a],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{currentValue:this.value,textareaCalcStyle:{},prefixOffset:null,suffixOffset:null,hovering:!1,focused:!1}},props:{value:[String,Number],placeholder:String,size:String,resize:String,name:String,form:String,id:String,maxlength:Number,minlength:Number,readonly:Boolean,autofocus:Boolean,disabled:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},autoComplete:{type:String,default:"off"},max:{},min:{},step:{},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return Object(q.a)({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},isGroup:function(){return this.$slots.prepend||this.$slots.append},showClear:function(){return this.clearable&&""!==this.currentValue&&(this.focused||this.hovering)}},watch:{value:function(t,e){this.setCurrentValue(t)}},methods:{focus:function(){(this.$refs.input||this.$refs.textarea).focus()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.currentValue])},inputSelect:function(){(this.$refs.input||this.$refs.textarea).select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,s=t.maxRows;this.textareaCalcStyle=Object(Q.a)(this.$refs.textarea,e,s)}else this.textareaCalcStyle={minHeight:Object(Q.a)(this.$refs.textarea).minHeight}}},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleInput:function(t){var e=t.target.value;this.$emit("input",e),this.setCurrentValue(e)},handleChange:function(t){this.$emit("change",t.target.value)},setCurrentValue:function(t){var e=this;t!==this.currentValue&&(this.$nextTick(function(t){e.resizeTextarea()}),this.currentValue=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t]))},calcIconOffset:function(t){var e={suf:"append",pre:"prepend"}[t];if(this.$slots[e])return{transform:"translateX("+("suf"===t?"-":"")+this.$el.querySelector(".el-input-group__"+e).offsetWidth+"px)"}},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear"),this.setCurrentValue(""),this.focus()}},created:function(){this.$on("inputSelect",this.inputSelect)},mounted:function(){this.resizeTextarea(),this.isGroup&&(this.prefixOffset=this.calcIconOffset("pre"),this.suffixOffset=this.calcIconOffset("suf"))}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?s("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),t._v(" "),"textarea"!==t.type?s("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,autocomplete:t.autoComplete,"aria-label":t.label},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$props,!1)):t._e(),t._v(" "),t.$slots.prefix||t.prefixIcon?s("span",{staticClass:"el-input__prefix",style:t.prefixOffset},[t._t("prefix"),t._v(" "),t.prefixIcon?s("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t._v(" "),t.$slots.suffix||t.suffixIcon||t.showClear||t.validateState&&t.needStatusIcon?s("span",{staticClass:"el-input__suffix",style:t.suffixOffset},[s("span",{staticClass:"el-input__suffix-inner"},[t.showClear?s("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{click:t.clear}}):[t._t("suffix"),t._v(" "),t.suffixIcon?s("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()]],2),t._v(" "),t.validateState?s("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t._v(" "),t.$slots.append?s("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:s("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,"aria-label":t.label},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$props,!1))],2)},staticRenderFns:[]},J=s("VU/8")(V,j,!1,null,null,null).exports,W={components:{ElContainer:p,ElInput:J,ElButton:P},data:function(){return U()({thisCanvas:{},context:{},isStart:!0,taskData:{},canvasWidth:0,canvasHeight:0,config:{lineWidth:2,lineColor:"",opacity:70},disable:!1,counter:1,maxCounter:1,currentProgress:0,taskSize:0,isLast:!1,assign:{},segList:[],isClick:!1,currentOffsetX:0,currentOffsetY:0,startOffsetX:0,startOffsetY:0,currentTag:"",currentPointerList:[],description:"",isFinishSeg:!1,isEditMode:!1,isChosen:!1,chosenSeg:0,chosenPointer:0,ishighLight:-1},"isLast",!1)},props:["name","tags","taskId","assignId","workerId","state"],created:function(){this.isEdit=this.$route.params.isEdit,1===this.isEdit&&(this.editImgID=this.$route.params.dataID,this.editMode(this.editImgID))},mounted:function(){var t=this;this.thisCanvas=document.getElementById("canvas"),this.context=this.thisCanvas.getContext("2d"),this.initialize(),this.setCanvasStyle(),document.title=this.name+" | Bazinga Turk",this.$dragging.$on("dragend",function(){t.redraw(t.segList);for(var e=0;e<t.segList.length;e++){document.getElementById("starIcon"+e).style.color="black"}t.ishighLight=-1})},destroyed:function(){this.saveCanvas()},methods:{initialize:function(){var t=this,e=this;this.$api.get("/assignment/"+this.assignId,null,function(s){"doTask"===t.state?(e.taskSize=s.data.size,0===s.data.progress?(t.$api.get("/assignment/"+t.assignId+"/begin",null),t.$api.get("/assignment/"+t.assignId+"/progress",null),e.counter=1):e.counter=s.data.progress,t.getImage()):(e.taskSize=s.data.progress,e.counter=1,t.getImage())})},setCanvasStyle:function(){""===this.config.lineColor?this.$message({message:"请先选择标签再进行标注哦∠( ᐛ 」∠)＿",type:"warning"}):(this.context.strokeStyle=this.config.lineColor,this.context.fillStyle=this.config.lineColor)},canvasMove:function(t){this.thisCanvas.style.cursor="crosshair";var e=t.offsetX-t.target.offsetLeft,s=t.offsetY-t.target.offsetTop;this.isEditMode?this.findPointer(e,s):this.isStart||this.findStartPointer(e,s)},canvasDown:function(t){if(this.context.lineWidth=2,!this.disable)if(""!==this.config.lineColor){this.canvasMoveUse=!0;var e=t.offsetX-t.target.offsetLeft,s=t.offsetY-t.target.offsetTop;if(this.isEditMode){if(this.thisCanvas.style.cursor="pointer",this.isChosen)this.segList[this.chosenSeg].pointerList[this.chosenPointer].x=e,this.segList[this.chosenSeg].pointerList[this.chosenPointer].y=s,this.thisCanvas.style.cursor="crosshair",this.redraw(this.segList),this.isChosen=!1;else for(var a=0;a<this.segList.length;a++)for(var i=this.segList[a].pointerList,n=0;n<i.length;n++)if(e>=i[n].x-2&&e<=i[n].x+2&&s>=i[n].y-2&&s<=i[n].y+2){this.chosenSeg=a,this.chosenPointer=n,this.context.beginPath(),this.context.arc(e,s,3,0,360,!1),this.context.strokeStyle="#ffffff",this.context.stroke(),this.isChosen=!0;break}}else{if(this.context.beginPath(),this.context.arc(e,s,3,0,360,!1),this.context.fillStyle="#ffffff",this.context.fill(),this.context.strokeStyle=this.config.lineColor,this.context.stroke(),this.isStart)this.startOffsetX=e,this.startOffsetY=s,this.isStart=!1;else{if(this.context.moveTo(this.currentOffsetX,this.currentOffsetY),e>=this.startOffsetX-2&&e<=this.startOffsetX+2&&s>=this.startOffsetY-2&&s<=this.startOffsetY+2)return this.context.lineTo(this.startOffsetX,this.startOffsetY),this.context.stroke(),this.context.closePath(),this.fillColor(this.currentPointerList,this.config.lineColor),void this.confirmSeg();this.context.lineTo(e,s),this.context.stroke()}this.currentOffsetX=e,this.currentOffsetY=s;var o={};o.x=e,o.y=s,this.currentPointerList.push(o)}}else this.$message({message:"请先选择标签!",type:"error"})},iniData:function(){this.isStart=!0,this.isFinishSeg=!1,this.disable=!1,this.description=" ",this.currentPointerList=[]},beginPath:function(t){var e=document.querySelector("#canvas");t.target!==e&&this.context.beginPath()},setTag:function(t,e){this.config.lineColor=t,this.currentTag=e},saveCanvas:function(){this.drawSavingPic(this.segList);for(var t=this.thisCanvas.toDataURL(this.counter+"/png",1),e=this.convertBase64UrlToBlob(t,"png"),s=[],a=0;a<this.segList.length;a++)if(0===s.length)s.push(this.segList[a].color);else{for(var i=!1,n=0;n<s.length;n++)if(s[n]===this.segList[a].color){i=!0;break}i||s.push(this.segList[a].color)}this.taskData.segList=this.segList,this.taskData.colorSize=s.length,this.postAnnoImage(e,this.counter,this.taskData)},convertBase64UrlToBlob:function(t,e){for(var s=window.atob(t.split(",")[1]),a=new ArrayBuffer(s.length),i=new Uint8Array(a),n=0;n<s.length;n++)i[n]=s.charCodeAt(n);return new Blob([a],{type:this.counter+"."+e})},nextAnnoImage:function(){var t=this,e=this;if("checkTask"===this.state)this.$api.get("/assignment/"+this.assignId,null,function(s){e.counter===s.data.progress&&(t.$message.warning("你上次只做到这张哦～继续去标注吧！"),t.isLast=!0)}),this.isLast||(this.saveCanvas(),this.counter+=1,this.getImage());else{if(this.counter===this.taskSize)return void this.$confirm("确认提交？提交后不可修改","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.saveCanvas(),e.submit(),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消提交"})});this.counter>this.maxCounter&&(this.maxCounter=this.counter,this.$api.get("/assignment/"+this.assignId+"/progress",null)),this.saveCanvas(),this.counter+=1,this.getImage()}},lastAnnoImage:function(){1!==this.counter?(this.saveCanvas(),this.counter-=1,this.getImage()):this.$message.warning("已是第一张图片了哟")},clearCanvas:function(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight)},getImage:function(){this.isFinishSeg=!1,this.isEditMode=!1,this.isChosen=!1,this.ishighLight=-1,this.isStart=!0;var t=this.counter,e=this;this.$api.get("/assignment/"+this.assignId+"/"+t,null,function(t){e.taskData=t.data;var s=new Image;s.src="http://localhost:8080"+e.taskData.imageUrl,s.onload=function(){e.canvasWidth=s.naturalWidth,e.canvasHeight=s.naturalHeight,e.segList=t.data.segList},setTimeout(function(){e.redraw(t.data.segList)},100)})},postAnnoImage:function(t,e,s){var a=new FormData;s.layerUrl="",a.append("anno",l()(s)),a.append("layer",t),this.$api.post("/assignment/"+this.assignId+"/"+e,a)},editMode:function(t){var e=this;this.$api.get("tasks/"+this.taskID+"/segmentation/resources/"+t,null,function(t){var s=new Image;s.src="http://localhost:8080/"+t.data.segLayerUrl,e.context.drawImage(s,0,0,900,550),document.getElementById("finishButton").style.display="block",document.getElementById("nextButton").style.display="none"})},submit:function(){var t=this;this.$api.get("/assignment/"+this.assignId+"/progress",null,function(e){e.success&&(t.$api.get("/assignment/"+t.assignId+"/submit",null),t.$message({type:"success",message:"任务提交成功!"}))}),this.$router.push("/taskCenter")},confirmSeg:function(){var t={};t.tagName=this.currentTag,t.pointerList=this.currentPointerList,t.color=this.config.lineColor,t.isShow=1,this.isStart=!0,this.disable=!0,this.segList.push(t),this.iniData()},confirmDescript:function(t){this.segList[t].description=this.description,this.description=""},deleteSeg:function(t){var e=this,s=this;this.$confirm("确认删除此图层？删除后不可恢复","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.segList.splice(t,1),s.redraw(e.segList),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},redraw:function(t){if(this.clearCanvas(),0!==t.length)for(var e=t.length-1;e>=0;e--)if(t[e].isShow){var s=t[e].pointerList;this.context.strokeStyle=t[e].color;var a=0;for(a=0;a<s.length;a++)this.context.beginPath(),this.context.arc(s[a].x,s[a].y,3,0,360,!1),this.context.fillStyle="#ffffff",this.context.fill(),this.context.stroke(),0!==a&&(this.context.beginPath(),this.context.moveTo(s[a-1].x,s[a-1].y),this.context.lineTo(s[a].x,s[a].y),this.context.stroke(),this.context.closePath());this.context.beginPath(),this.context.moveTo(s[a-1].x,s[a-1].y),this.context.lineTo(s[0].x,s[0].y),this.context.stroke(),this.context.closePath(),this.fillColor(s,t[e].color)}},fillColor:function(t,e){this.context.beginPath();for(var s=0;s<t.length;s++)this.context.lineTo(t[s].x,t[s].y);this.context.closePath(),this.context.fillStyle=e,this.context.strokeStyle=e,this.context.fill(),this.context.stroke()},highlightSeg:function(t){var e=document.getElementById("starIcon"+t);if(-1!==this.ishighLight){if(t===this.ishighLight)return e.style.color="black",this.redraw(this.segList),void(this.ishighLight=-1);document.getElementById("starIcon"+this.ishighLight).style.color="black"}e.style.color="#FF7F50",this.ishighLight=t,this.redraw(this.segList);var s=this.segList[t].pointerList;this.context.strokeStyle="#ffffff",this.context.shadowBlur=10,this.context.shadowColor="#ffffff";for(var a=0;a<s.length;a++)this.context.beginPath(),this.context.arc(s[a].x,s[a].y,3,0,360,!1),this.context.fillStyle="#ffffff",this.context.fill(),this.context.stroke(),0!==a&&(this.context.beginPath(),this.context.moveTo(s[a-1].x,s[a-1].y),this.context.lineTo(s[a].x,s[a].y),this.context.stroke(),this.context.closePath());this.context.beginPath(),this.context.moveTo(s[a-1].x,s[a-1].y),this.context.lineTo(s[0].x,s[0].y),this.context.stroke(),this.context.closePath(),this.context.shadowBlur=0},hideSeg:function(t){var e=this.segList[t].isShow,s=document.getElementById("showIcon"+t);e?(this.segList[t].isShow=0,s.style.color="lightgray"):(this.segList[t].isShow=1,s.style.color="black"),this.redraw(this.segList)},drawSavingPic:function(t){if(this.clearCanvas(),0!==t.length){for(var e=t.length-1;e>=0;e--){var s=t[e].pointerList;this.fillColor(s,t[e].color)}this.thisCanvas.style.opacity=1}},findPointer:function(t,e){for(var s=0;s<this.segList.length;s++)for(var a=this.segList[s].pointerList,i=0;i<a.length;i++)if(t>=a[i].x-2&&t<=a[i].x+2&&e>=a[i].y-2&&e<=a[i].y+2)return void(this.thisCanvas.style.cursor="pointer")},findStartPointer:function(t,e){var s=this.currentPointerList[0];t>=s.x-2&&t<=s.x+2&&e>=s.y-2&&e<=s.y+2&&(this.thisCanvas.style.cursor="pointer")}}},Y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",{staticStyle:{"padding-top":"0px"}},[s("el-aside",{staticStyle:{"border-right":"lightgrey 1px solid",overflow:"scroll",padding:"0px"},attrs:{width:"13%"}},[s("div",[s("ul",{staticStyle:{padding:"0px",margin:"0px"}},t._l(t.segList,function(e,a){return s("li",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:e,list:t.segList,group:"seg"},expression:"{ item: seg, list: segList, group: 'seg' }"}],key:a,staticStyle:{display:"block",margin:"0px",float:"left"},on:{mousedown:function(e){t.highlightSeg(a)}}},[s("el-row",{staticStyle:{"border-top":"lightgrey 1px solid","border-bottom":"lightgrey 1px solid",width:"180px"}},[s("el-row",[s("el-col",{attrs:{span:3}},[s("i",{staticClass:"el-icon-star-off",staticStyle:{"margin-left":"5px"},attrs:{id:"starIcon"+a}})]),t._v(" "),s("el-col",{attrs:{span:3}},[s("i",{staticClass:"el-icon-view",staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{id:"showIcon"+a},on:{click:function(e){t.hideSeg(a)}}})]),t._v(" "),s("el-col",{attrs:{span:15}},[s("p")]),t._v(" "),s("el-col",{attrs:{span:3}},[s("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{cursor:"pointer"},on:{click:function(e){t.deleteSeg(a)}}})])],1),t._v(" "),s("div",{staticStyle:{"text-align":"center",margin:"0px"}},[s("p",{staticStyle:{"font-size":"13px",margin:"5px"},style:{color:e.color}},[t._v(t._s(e.tagName))]),t._v(" "),s("el-row",{staticStyle:{"margin-bottom":"5px"}},[s("el-col",{attrs:{span:3}},[s("p")]),t._v(" "),s("el-col",{attrs:{span:18}},[s("p",{staticStyle:{"font-size":"5px",color:"#969896",margin:"0px"}},[t._v(t._s(e.description))])]),t._v(" "),s("el-col",{staticStyle:{float:"right"},attrs:{span:3}},[s("el-tooltip",{attrs:{content:"添加描述",placement:"top",effect:"light"}},[s("el-popover",{attrs:{placement:"right",trigger:"click"}},[s("el-input",{staticStyle:{"font-size":"13px",width:"100%",margin:"auto"},attrs:{type:"textarea",rows:4,placeholder:e.description},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),s("el-button",{staticClass:"confirmButton",attrs:{type:"success",plain:"",size:"small"},on:{click:function(e){t.confirmDescript(a)}}},[t._v("确认")]),t._v(" "),s("i",{staticClass:"el-icon-edit-outline",staticStyle:{cursor:"pointer",float:"right","margin-right":"5px"},attrs:{slot:"reference"},slot:"reference"})],1)],1)],1)],1)],1)],1)],1)}))])]),t._v(" "),s("el-container",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[s("el-header",{staticStyle:{"vertical-align":"middle",height:"50px","padding-left":"30px","padding-right":"30px","padding-top":"5px"}},[s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010"},attrs:{type:"text"},on:{click:t.lastAnnoImage}},[s("a",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"14px","font-family":"Roboto"}},[t._v("上一张")])])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px"},attrs:{type:"text"}},[t._v("\n            "+t._s(t.counter)+"/"+t._s(t.taskSize)+"\n          ")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",color:"#101010","font-size":"14px","font-family":"Roboto"},attrs:{type:"text"},on:{click:t.nextAnnoImage}},[t._v("\n            下一张\n            "),s("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),t._v(" "),s("el-main",{staticStyle:{"padding-top":"0px"}},[s("div",{staticClass:"drawPanel",on:{mousedown:t.beginPath}},[s("canvas",{staticClass:"CanvasPanel",style:{opacity:t.config.opacity/100},attrs:{id:"canvas",width:t.canvasWidth,height:t.canvasHeight},on:{mousedown:t.canvasDown,mousemove:t.canvasMove}}),t._v(" "),s("img",{staticStyle:{background:"no-repeat center center","background-size":"contain",position:"absolute","z-index":"0"},attrs:{src:"http://localhost:8080/"+t.taskData.imageUrl}})])])],1),t._v(" "),s("el-aside",{staticStyle:{float:"right","border-left":"lightgrey 1px solid"},attrs:{width:"13%"}},[s("ul",{staticClass:"buttonUL"},t._l(t.tags,function(e){return s("li",{staticStyle:{display:"block",margin:"5px",float:"left"}},[s("el-button",{staticStyle:{color:"dimgray"},style:{borderColor:e.colorHex},attrs:{width:"10",plain:"",icon:"el-icon-edit",size:"mini"},on:{click:function(s){t.setTag(e.colorHex,e.name)}}},[t._v(t._s(e.name))]),t._v(" "),s("br")],1)})),t._v(" "),s("div",{staticClass:"edit"},[s("p",{staticStyle:{color:"#969896","font-size":"13px"}},[t._v("切换至编辑模式")]),t._v(" "),s("el-switch",{staticStyle:{display:"block"},attrs:{change:"toEditMode","active-color":"#FF7F50","inactive-color":"lightgray"},model:{value:t.isEditMode,callback:function(e){t.isEditMode=e},expression:"isEditMode"}}),t._v(" "),s("p",{staticStyle:{color:"#969896","font-size":"13px"}},[t._v("调整透明度")]),t._v(" "),s("el-slider",{staticStyle:{"padding-left":"10px","padding-right":"10px"},model:{value:t.config.opacity,callback:function(e){t.$set(t.config,"opacity",e)},expression:"config.opacity"}})],1)])],1)],1)},staticRenderFns:[]};var Z={data:function(){return{taskId:"",assignId:"",workerId:"",state:"",taskInfo:{},name:"",assignSize:0,progress:1,tags:{}}},created:function(){this.taskId=this.$route.params.taskId,this.assignId=this.$route.params.assignmentId,this.workerId=this.$route.params.workerId,this.state=this.$route.params.state,this.getTaskName(),this.getTaskInfo()},methods:{getTaskName:function(){var t=this;this.$api.get("/task/"+this.taskId+"/brief",null,function(e){t.name=e.data.taskName})},getTaskInfo:function(){var t=this;this.$api.get("/task/"+this.taskId+"/attributes",null,function(e){t.tags=e.data[0].tags})}},components:{"task-header":v,"segment-panel":s("VU/8")(W,Y,!1,function(t){s("U2N/")},null,null).exports}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("task-header",{attrs:{taskName:t.name}}),t._v(" "),s("segment-panel",{attrs:{name:t.name,state:t.state,tags:t.tags,assignId:t.assignId,workerId:t.workerId,taskId:t.taskId}})],1)},staticRenderFns:[]};var X=s("VU/8")(Z,G,!1,function(t){s("D2uv")},"data-v-7ea3c6ee",null).exports,K={components:{ElContainer:p,ElInput:J,ElButton:P},data:function(){return U()({thisCanvas:{},context:{},isStart:!0,taskData:{},canvasWidth:0,canvasHeight:0,config:{lineWidth:2,lineColor:"",opacity:70},disable:!1,counter:1,taskSize:0,isLast:!1,assign:{},segList:[],isClick:!1,currentOffsetX:0,currentOffsetY:0,startOffsetX:0,startOffsetY:0,currentTag:"",currentPointerList:[],description:"",isFinishSeg:!1,isEditMode:!1,isChosen:!1,chosenSeg:0,chosenPointer:0,ishighLight:-1},"isLast",!1)},props:["name","tags","taskId","assignId","workerId","state"],created:function(){this.isEdit=this.$route.params.isEdit,1===this.isEdit&&(this.editImgID=this.$route.params.dataID,this.editMode(this.editImgID))},mounted:function(){this.thisCanvas=document.getElementById("canvas"),this.context=this.thisCanvas.getContext("2d"),this.initialize(),this.setCanvasStyle(),document.title=this.name+" | Bazinga Turk"},methods:{initialize:function(){var t=this;this.$api.get("/assignment/"+this.assignId,null,function(e){t.taskSize=e.data.size}),this.getImage()},setCanvasStyle:function(){this.context.strokeStyle=this.config.lineColor,this.context.fillStyle=this.config.lineColor},nextAnnoImage:function(){this.counter!==this.taskSize?(this.counter+=1,this.getImage()):this.$message.warning("已是最后一张图片")},lastAnnoImage:function(){1!==this.counter?(this.counter-=1,this.getImage()):this.$message.warning("已是第一张图片了哟")},clearCanvas:function(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight)},getImage:function(){var t=this;this.isFinishSeg=!1,this.isChosen=!1,this.ishighLight=-1,this.isStart=!0;var e=this.counter,s=this;this.$api.get("/assignment/"+this.assignId+"/"+e,null,function(a){console.log("/assignment/"+t.assignId+"/"+e),console.log(a.data),s.taskData=a.data;var i=new Image;i.src="http://localhost:8080"+s.taskData.imageUrl,i.onload=function(){s.canvasWidth=i.naturalWidth,s.canvasHeight=i.naturalHeight,s.segList=a.data.segList},setTimeout(function(){s.redraw(a.data.segList)},100)})},redraw:function(t){if(this.clearCanvas(),0!==t.length)for(var e=t.length-1;e>=0;e--)if(t[e].isShow){var s=t[e].pointerList;this.context.strokeStyle=t[e].color;var a=0;for(a=0;a<s.length;a++)this.context.beginPath(),this.context.arc(s[a].x,s[a].y,3,0,360,!1),this.context.fillStyle="#ffffff",this.context.fill(),this.context.stroke(),0!==a&&(this.context.beginPath(),this.context.moveTo(s[a-1].x,s[a-1].y),this.context.lineTo(s[a].x,s[a].y),this.context.stroke(),this.context.closePath());this.context.beginPath(),this.context.moveTo(s[a-1].x,s[a-1].y),this.context.lineTo(s[0].x,s[0].y),this.context.stroke(),this.context.closePath(),this.fillColor(s,t[e].color)}},fillColor:function(t,e){this.context.beginPath();for(var s=0;s<t.length;s++)this.context.lineTo(t[s].x,t[s].y);this.context.closePath(),this.context.fillStyle=e,this.context.strokeStyle=e,this.context.fill(),this.context.stroke()},highlightSeg:function(t){var e=document.getElementById("starIcon"+t);if(-1!==this.ishighLight){if(t===this.ishighLight)return e.style.color="black",this.redraw(this.segList),void(this.ishighLight=-1);document.getElementById("starIcon"+this.ishighLight).style.color="black"}e.style.color="#FF7F50",this.ishighLight=t,this.redraw(this.segList);var s=this.segList[t].pointerList;this.context.strokeStyle="#ffffff",this.context.shadowBlur=10,this.context.shadowColor="#ffffff";for(var a=0;a<s.length;a++)this.context.beginPath(),this.context.arc(s[a].x,s[a].y,3,0,360,!1),this.context.fillStyle="#ffffff",this.context.fill(),this.context.stroke(),0!==a&&(this.context.beginPath(),this.context.moveTo(s[a-1].x,s[a-1].y),this.context.lineTo(s[a].x,s[a].y),this.context.stroke(),this.context.closePath());this.context.beginPath(),this.context.moveTo(s[a-1].x,s[a-1].y),this.context.lineTo(s[0].x,s[0].y),this.context.stroke(),this.context.closePath(),this.context.shadowBlur=0},hideSeg:function(t){var e=this.segList[t].isShow,s=document.getElementById("showIcon"+t);e?(this.segList[t].isShow=0,s.style.color="lightgray"):(this.segList[t].isShow=1,s.style.color="black"),this.redraw(this.segList)}}},tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",{staticStyle:{"padding-top":"0px"}},[s("el-aside",{staticStyle:{"border-right":"lightgrey 1px solid",overflow:"scroll",padding:"0px"},attrs:{width:"13%"}},[s("div",[s("ul",{staticStyle:{padding:"0px",margin:"0px"}},t._l(t.segList,function(e,a){return s("li",{staticStyle:{display:"block",margin:"0px",float:"left"},on:{mousedown:function(e){t.highlightSeg(a)}}},[s("el-row",{staticStyle:{"border-top":"lightgrey 1px solid","border-bottom":"lightgrey 1px solid",width:"180px"}},[s("el-row",[s("el-col",{attrs:{span:3}},[s("i",{staticClass:"el-icon-star-off",staticStyle:{"margin-left":"5px"},attrs:{id:"starIcon"+a}})]),t._v(" "),s("el-col",{attrs:{span:3}},[s("i",{staticClass:"el-icon-view",staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{id:"showIcon"+a},on:{click:function(e){t.hideSeg(a)}}})])],1),t._v(" "),s("div",{staticStyle:{"text-align":"center",margin:"0px"}},[s("p",{staticStyle:{"font-size":"13px",margin:"5px"},style:{color:e.color}},[t._v(t._s(e.tagName))]),t._v(" "),s("p",{staticStyle:{"font-size":"5px",color:"#969896","margin-bottom":"5px"}},[t._v(t._s(e.description))])])],1)],1)}))])]),t._v(" "),s("el-container",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[s("el-header",{staticStyle:{"vertical-align":"middle",height:"50px","padding-left":"30px","padding-right":"30px","padding-top":"5px"}},[s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",border:"none",color:"#101010"},attrs:{type:"text"},on:{click:t.lastAnnoImage}},[s("a",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"14px","font-family":"Roboto"}},[t._v("上一张")])])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px"},attrs:{type:"text"}},[t._v("\n            "+t._s(t.counter)+"/"+t._s(t.taskSize)+"\n          ")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[s("el-button",{staticStyle:{height:"30px",color:"#101010","font-size":"14px","font-family":"Roboto"},attrs:{type:"text"},on:{click:t.nextAnnoImage}},[t._v("\n            下一张\n            "),s("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),t._v(" "),s("el-main",{staticStyle:{"padding-top":"0px"}},[s("div",{staticClass:"drawPanel"},[s("canvas",{staticClass:"CanvasPanel",style:{opacity:t.config.opacity/100},attrs:{id:"canvas",width:t.canvasWidth,height:t.canvasHeight}}),t._v(" "),s("img",{staticStyle:{background:"no-repeat center center","background-size":"contain",position:"absolute","z-index":"0"},attrs:{src:"http://localhost:8080/"+t.taskData.imageUrl}})])])],1),t._v(" "),s("el-aside",{staticStyle:{float:"right","border-left":"lightgrey 1px solid"},attrs:{width:"13%"}},[s("ul",{staticClass:"buttonUL"},t._l(t.tags,function(e){return s("li",{staticStyle:{display:"block",margin:"5px",float:"left"}},[s("el-button",{staticStyle:{color:"dimgray"},style:{borderColor:e.colorHex},attrs:{width:"10",plain:"",icon:"el-icon-edit",size:"mini"}},[t._v(t._s(e.name))]),t._v(" "),s("br")],1)})),t._v(" "),s("div",{staticClass:"edit"},[s("p",{staticStyle:{color:"#969896","font-size":"13px"}},[t._v("调整透明度")]),t._v(" "),s("el-slider",{staticStyle:{"padding-left":"10px","padding-right":"10px"},model:{value:t.config.opacity,callback:function(e){t.$set(t.config,"opacity",e)},expression:"config.opacity"}})],1)])],1)],1)},staticRenderFns:[]};var et=s("VU/8")(K,tt,!1,function(t){s("y4Ir")},null,null).exports,st={name:"ElHeader",componentName:"ElHeader",props:{height:{type:String,default:"60px"}}},at={render:function(){var t=this.$createElement;return(this._self._c||t)("header",{staticClass:"el-header",style:{height:this.height}},[this._t("default")],2)},staticRenderFns:[]},it=s("VU/8")(st,at,!1,null,null,null).exports,nt={components:{SegmentCheck:et,ElHeader:it,myTaskHeader:v,ElContainer:p},name:"segment-check-page",data:function(){return{taskId:"",assignmentId:"",workerId:"",name:"",tags:{}}},created:function(){this.taskId=this.$route.params.taskId,this.assignmentId=this.$route.params.assignmentId,this.workerId=this.$route.params.workerId,this.getTaskInfo(),this.getTaskName()},methods:{getTaskName:function(){var t=this;this.$api.get("/task/"+this.taskId+"/brief",null,function(e){t.name=e.data.taskName})},getTaskInfo:function(){var t=this;this.$api.get("/task/"+this.taskId+"/attributes",null,function(e){t.tags=e.data[0].tags})}}},ot={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("myTaskHeader",{attrs:{taskName:this.name}}),this._v(" "),e("segment-check",{attrs:{tags:this.tags,name:this.name,assignId:this.assignmentId,workerId:this.workerId,taskId:this.taskId}})],1)},staticRenderFns:[]};var rt=s("VU/8")(nt,ot,!1,function(t){s("b1jR")},"data-v-3688f928",null).exports,lt=(s("Cg9U"),{name:"data-manage-header",data:function(){return{searchInput:"",userAvatar:"",isRequester:!1}},props:["taskPage"],mounted:function(){this.userAvatar=sessionStorage.getItem("avatar"),"Requester"===sessionStorage.getItem("role")&&(this.isRequester=!0)},methods:{routeToUserCenter:function(){this.$router.push("/userCenter")},routeToLobby:function(){this.$router.push("/taskCenter"),this.$emit("showTaskLobby")},routeToManage:function(){this.isRequester?(this.$router.push("/taskCenter"),this.$emit("showRequesterTaskManage")):(this.$router.push("/taskCenter"),this.$emit("showTaskManage"))},routeToDone:function(){this.isRequester?(this.$router.push("/taskCenter"),this.$emit("showRequesterTaskDone")):(this.$router.push("/taskCenter"),this.$emit("showTaskDone"))},routeToRelease:function(){this.$router.push("/taskCenter"),this.$emit("showTaskConfig")}}}),ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",{staticClass:"headerBackground"},[s("el-col",{attrs:{span:4}},[s("p",{staticStyle:{"margin-left":"20px","margin-top":"12px"}},[s("span",{staticStyle:{color:"coral","font-size":"20px"}},[t._v("NJU ")]),t._v(" "),s("span",{staticStyle:{color:"dimgray","font-size":"20px"}},[t._v("bazinga turk")])])]),t._v(" "),s("el-col",{attrs:{span:15}},[s("el-menu",{staticClass:"nav-menu",attrs:{mode:"horizontal","active-text-color":"coral","text-color":"dimgray","background-color":"rgba(252, 252, 252, 1)"}},[s("el-menu-item",{staticStyle:{height:"53px"},attrs:{index:"1"},on:{click:t.routeToManage}},[t._v("进行中")]),t._v(" "),s("el-menu-item",{staticStyle:{height:"53px"},attrs:{index:"2"},on:{click:t.routeToDone}},[t._v("已完成")]),t._v(" "),s("el-menu-item",{staticStyle:{height:"53px"},attrs:{index:"3"},on:{click:t.routeToLobby}},[t._v("任务大厅")]),t._v(" "),t.isRequester?s("el-menu-item",{staticStyle:{height:"53px"},attrs:{index:"4"},on:{click:t.routeToRelease}},[t._v("发布任务")]):t._e()],1)],1),t._v(" "),s("el-col",{attrs:{span:4}},[s("p")]),t._v(" "),s("el-col",{attrs:{span:1}},[s("img",{staticClass:"headAvatar",attrs:{src:t.userAvatar},on:{click:t.routeToUserCenter}})])],1),t._v(" "),s("div",{staticClass:"line"})],1)},staticRenderFns:[]};var ut=s("VU/8")(lt,ct,!1,function(t){s("5bJE")},"data-v-3f416ef1",null).exports,ht={components:{ElButton:P},data:function(){return{tasks:[],searchInfo:""}},created:function(){this.getConfiguration()},methods:{calPercentage:function(t,e){return(t/e*100).toFixed(3)},getConfiguration:function(){var t=this,e=sessionStorage.getItem("userID");this.$api.get("worker/"+e+"/ongoing",null,function(e){t.tasks=e.data,console.log(e.data)})},beginTask:function(t,e,s,a){"CLASSIFICATION"===t&&this.$router.push("/partClassification/doTask/"+e+"/"+s+"/"+a),"DETECTION"===t&&this.$router.push("/detection/doTask/"+e+"/"+s+"/"+a),"SEGMENTATION"===t&&this.$router.push("/segment/doTask/"+e+"/"+s+"/"+a)},openTask:function(t,e,s,a,i){0===i?this.$message({message:"你还没有开始过该任务哦！",type:"warning"}):("CLASSIFICATION"===t&&this.$router.push("/partClassification/checkTask/"+e+"/"+s+"/"+a),"SEGMENTATION"===t&&this.$router.push("/segment/checkTask/"+e+"/"+s+"/"+a),"DETECTION"===t&&this.$router.push("/detection/checkTask/"+e+"/"+s+"/"+a))},dateFormat:function(t,e,s,a){return s},taskTypeFormat:function(t,e,s,a){switch(s){case"CLASSIFICATION":return"局部分类标注任务";case"DETECTION":return"检测任务";case"SEGMENTATION":return"区域划分任务"}}}},dt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tasks,stripe:""}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[s("el-form-item",{attrs:{label:"任务描述"}},[s("span",[t._v(t._s(e.row.description))])])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"requesterName",label:"任务发起者",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"taskName",label:"任务名称",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"taskType",formatter:t.taskTypeFormat,label:"任务类型",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"partitionNo",label:"分组序号",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"size",label:"任务大小",sortable:"",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"assignmentReward",label:"积分奖励",sortable:"",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"deadline",label:"截止时间",sortable:"",formatter:t.dateFormat,width:"190"}}),t._v(" "),s("el-table-column",{attrs:{width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-progress",{attrs:{percentage:t.calPercentage(e.row.progress,e.row.size)}})]}}])}),t._v(" "),s("el-table-column",{attrs:{width:"77"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.openTask(e.row.taskType,e.row.taskId,e.row.assignmentId,e.row.workerId,e.row.progress)}}},[t._v("\n          查看")])]}}])}),t._v(" "),s("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){t.beginTask(e.row.taskType,e.row.taskId,e.row.assignmentId,e.row.workerId)}}},[t._v("\n          开始")])]}}])})],1)],1)])},staticRenderFns:[]};var pt=s("VU/8")(ht,dt,!1,function(t){s("Vt0A")},null,null).exports,gt={data:function(){return{activeName:"second"}},methods:{handleClick:function(t,e){console.log(t,e)}}},mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-tabs",{attrs:{"active-text-color":"#f25f5c"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"进行中",name:"first"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"已完成",name:"second"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"可参与",name:"third"}})],1)},staticRenderFns:[]},ft={components:{myHeader:ut,myTasks:pt,myTaskType:s("VU/8")(gt,mt,!1,null,null,null).exports}},vt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-header"),this._v(" "),e("myTasks")],1)},staticRenderFns:[]};var yt=s("VU/8")(ft,vt,!1,function(t){s("jnuq")},"data-v-6f707109",null).exports,xt={name:"requester-task-list",data:function(){return{tasks:[],searchInfo:""}},created:function(){this.getConfiguration()},methods:{total:function(t,e,s){return parseFloat(Number(t)*Number(e)*Number(s)).toFixed(3)},getConfiguration:function(){var t=this,e=sessionStorage.getItem("userID");this.$api.get("/requester/"+e+"/ongoing",null,function(e){console.log(e.data),t.tasks=e.data})},taskTypeFormat:function(t,e,s,a){switch(s){case"CLASSIFICATION":return"局部分类标注任务";case"DETECTION":return"检测任务";case"SEGMENTATION":return"区域划分任务"}},dateFormat:function(t,e,s,a){return s},openTask:function(t){this.$router.push("/taskPartition/"+t)}}},bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{"margin-top":"15px"}},[s("el-input",{staticStyle:{"padding-left":"50px",width:"85%"},attrs:{size:"small",placeholder:"请输入内容","suffix-icon":"el-icon-search"},model:{value:t.searchInfo,callback:function(e){t.searchInfo=e},expression:"searchInfo"}}),t._v(" "),s("el-button",{staticStyle:{border:"none"},attrs:{type:"text"}},[s("a",{staticClass:"ali-icon2-filter",staticStyle:{"margin-left":"10px",color:"grey"}},[t._v("筛选")])])],1),t._v(" "),s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tasks,stripe:""}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[s("el-form-item",{attrs:{label:"任务描述"}},[s("span",[t._v(t._s(e.row.description))])])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"taskName",label:"任务名称",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"taskType",formatter:t.taskTypeFormat,label:"任务类型",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"size",label:"任务总数",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"partTimes",label:"任务分组数",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"createTime",label:"发布时间",sortable:"",formatter:t.dateFormat,width:"200"}}),t._v(" "),s("el-table-column",{attrs:{label:"需要的总花费",width:"160",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(t.total(e.row.assignmentReward,e.row.partTimes,e.row.assignTimes)))])]}}])}),t._v(" "),s("el-table-column",{attrs:{width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.openTask(e.row.taskId)}}},[t._v("查看")])]}}])})],1)],1)])},staticRenderFns:[]};var kt=s("VU/8")(xt,bt,!1,function(t){s("1hWb")},"data-v-1f6fca65",null).exports,_t={name:"requester-task",components:{myHeader:ut,myTasks:kt}},wt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-header"),this._v(" "),e("myTasks")],1)},staticRenderFns:[]};var It=s("VU/8")(_t,wt,!1,function(t){s("X+F4")},null,null).exports,St={name:"task-done",data:function(){return{tasks:[],searchInfo:"",task:{}}},created:function(){this.getConfiguration(),console.log(this.tasks)},methods:{getConfiguration:function(){var t=this,e=sessionStorage.getItem("userID");this.$api.get("worker/"+e+"/finished",null,function(e){t.tasks=e.data})},openTask:function(t,e,s,a){"CLASSIFICATION"===t&&this.$router.push("/partClassificationDoneCheck/"+e+"/"+s+"/"+a),"SEGMENTATION"===t&&this.$router.push("/segmentCheck/"+e+"/"+s+"/"+a),"DETECTION"===t&&this.$router.push("/detectionDoneCheck/"+e+"/"+s+"/"+a)},dateFormat:function(t,e,s,a){return s},taskTypeFormat:function(t,e,s,a){switch(s){case"CLASSIFICATION":return"局部分类标注任务";case"DETECTION":return"检测任务";case"SEGMENTATION":return"区域划分任务"}}}},At={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{width:"100%"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tasks,stripe:""}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[s("el-form-item",{attrs:{label:"任务描述"}},[s("span",[t._v(t._s(e.row.description))])])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"requesterName",label:"任务发起者",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"taskName",label:"任务名称",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"taskType",formatter:t.taskTypeFormat,label:"任务类型",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"partitionNo",label:"分组序号",sortable:"",width:"130"}}),t._v(" "),s("el-table-column",{attrs:{prop:"size",label:"任务大小",sortable:"",width:"130"}}),t._v(" "),s("el-table-column",{attrs:{prop:"assignmentReward",label:"积分奖励",sortable:"",width:"130"}}),t._v(" "),s("el-table-column",{attrs:{prop:"deadline",label:"截止时间",sortable:"",formatter:t.dateFormat,width:"200"}}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"评估结果",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["APPROVED"===e.row.status?s("el-tag",{attrs:{type:"success","disable-transitions":"",size:"medium"}},[t._v("已通过")]):t._e(),t._v(" "),"REJECTED"===e.row.status?s("el-tag",{attrs:{type:"danger","disable-transitions":"",size:"medium"}},[t._v(" 已拒绝")]):t._e(),t._v(" "),"CHECKING"===e.row.status?s("el-tag",{attrs:{type:"warning","disable-transitions":"",size:"medium"}},[t._v("审核中")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{width:"177"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.openTask(e.row.taskType,e.row.taskId,e.row.assignmentId,e.row.workerId)}}},[t._v("查看")])]}}])})],1)],1)])},staticRenderFns:[]};var Ct=s("VU/8")(St,At,!1,function(t){s("fGvg")},null,null).exports,Tt={name:"task-done",components:{myHeader:ut,myTasks:Ct}},Et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-header"),this._v(" "),e("myTasks")],1)},staticRenderFns:[]};var Lt=s("VU/8")(Tt,Et,!1,function(t){s("HOA3")},"data-v-b5d537a4",null).exports,zt={name:"requester-task-done",data:function(){return{tasks:[],searchInfo:""}},computed:{total:function(t,e,s){return t*e*s}},created:function(){this.getConfiguration()},methods:{getConfiguration:function(){var t=this,e=sessionStorage.getItem("userID");this.$api.get("/requester/"+e+"/finished",null,function(e){console.log(e.data),t.tasks=e.data})},taskTypeFormat:function(t,e,s,a){switch(s){case"CLASSIFICATION":return"局部分类标注任务";case"DETECTION":return"检测任务";case"SEGMENTATION":return"区域划分任务"}},dateFormat:function(t,e,s,a){return s},openTask:function(t){this.$router.push("/taskPatition/"+t)}}},Bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{"margin-top":"15px"}},[s("el-input",{staticStyle:{"padding-left":"50px",width:"85%"},attrs:{size:"small",placeholder:"请输入内容","suffix-icon":"el-icon-search"},model:{value:t.searchInfo,callback:function(e){t.searchInfo=e},expression:"searchInfo"}}),t._v(" "),s("el-button",{staticStyle:{border:"none"},attrs:{type:"text"}},[s("a",{staticClass:"ali-icon2-filter",staticStyle:{"margin-left":"10px",color:"grey"}},[t._v("筛选")])])],1),t._v(" "),s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tasks,stripe:""}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[s("el-form-item",{attrs:{label:"任务描述"}},[s("span",[t._v(t._s(e.row.description))])])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"taskName",label:"任务名称",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"taskType",formatter:t.taskTypeFormat,label:"任务类型",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"size",label:"任务总数",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"partTimes",label:"任务分组数",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"deadline",label:"发布时间",sortable:"",formatter:t.dateFormat,width:"200"}}),t._v(" "),s("el-table-column",{attrs:{label:"需要的总花费",width:"160",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.total(e.row.assignmentReward,e.row.partTimes,e.row.assignTimes))+"\n        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.openTask(e.row.taskId)}}},[t._v("查看")])]}}])})],1)],1)])},staticRenderFns:[]};var Rt=s("VU/8")(zt,Bt,!1,function(t){s("6hc5")},"data-v-25064e10",null).exports,Dt={name:"requester-task-done",components:{myHeader:ut,myTasks:Rt}},Ft={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-header"),this._v(" "),e("myTasks")],1)},staticRenderFns:[]};var Nt=s("VU/8")(Dt,Ft,!1,function(t){s("+oxx")},"data-v-53a00aa9",null).exports,Ut={components:{ElButton:P},name:"home-pic"},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"background"},[a("p",{staticClass:"mainIntro"},[t._v("\n      从这里开始你的众包数据之旅\n    ")]),t._v(" "),a("p",{staticClass:"detailIntro"},[t._v("\n      Human intelligence through an API\n    ")]),t._v(" "),a("p",{staticClass:"detailIntro"},[t._v("\n      Access a global,on-demand,24*7 workforce\n    ")]),t._v(" "),a("div",{staticClass:"beginbutton"},[a("el-button",{staticStyle:{width:"120px"},attrs:{type:"danger"}},[t._v("开始")]),t._v(" "),a("el-button",{staticStyle:{width:"120px"},attrs:{type:"info"}},[t._v("了解更多")])],1)]),t._v(" "),t._m(0),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"pic1"})]),t._v(" "),a("el-col",{attrs:{span:14}},[a("div",{staticStyle:{"margin-left":"100px"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("img",{staticStyle:{height:"55px","margin-top":"40px"},attrs:{src:s("Y0v8")}})]),t._v(" "),a("el-col",{attrs:{span:14}},[a("div",[a("p",{staticStyle:{"font-size":"25px","margin-bottom":"15px",color:"dimgray"}},[t._v("众包发起者 & 众包工人")]),t._v(" "),a("p",{staticStyle:{"margin-top":"0px"}},[t._v("BazingaTurk提供两种登录模式，你可以作为众包发起者或是众包工人登录系统来进行工作")])])])],1)],1),t._v(" "),a("div",{staticStyle:{"margin-left":"100px"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("img",{staticStyle:{height:"60px","margin-top":"40px"},attrs:{src:s("dEy5")}})]),t._v(" "),a("el-col",{attrs:{span:14}},[a("div",[a("p",{staticStyle:{"font-size":"25px","margin-bottom":"15px",color:"dimgray"}},[t._v("任务中心")]),t._v(" "),a("p",{staticStyle:{"margin-top":"0px"}},[t._v("众包发起者可以在任务中心发布任务，供众包工人选择任务进行工作")])])])],1)],1)])],1)],1),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:14}},[a("div",{staticStyle:{"margin-left":"100px"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("img",{staticStyle:{height:"50px","margin-top":"60px"},attrs:{src:s("/q/I")}})]),t._v(" "),a("el-col",{attrs:{span:14}},[a("div",[a("p",{staticStyle:{"font-size":"25px","margin-bottom":"15px","margin-top":"40px",color:"dimgray"}},[t._v("费用&回报")]),t._v(" "),a("p",{staticStyle:{"margin-top":"0px"}},[t._v("众包工人完成任务可获得相应积分回报，积分可用于兑换工作费用")])])])],1)],1),t._v(" "),a("div",{staticStyle:{"margin-left":"100px"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("img",{staticStyle:{height:"50px","margin-top":"60px"},attrs:{src:s("mIo6")}})]),t._v(" "),a("el-col",{attrs:{span:14}},[a("div",[a("p",{staticStyle:{"font-size":"25px","margin-bottom":"15px","margin-top":"40px",color:"dimgray"}},[t._v("可视化数据统计")]),t._v(" "),a("p",{staticStyle:{"margin-top":"0px"}},[t._v("对任务工作的精确统计，最大化工作效率")])])])],1)],1)]),t._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"pic2"})])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{margin:"50px","font-size":"15px"}},[e("p",[this._v("\n      Amazon Mechanical Turk (MTurk) operates a marketplace for work that requires human intelligence. The MTurk web service enables companies to programmatically access this marketplace and a diverse, on-demand workforce. Developers can leverage this service to build human intelligence directly into their applications.\n    ")]),this._v(" "),e("p",[this._v("\n      While computing technology continues to improve, there are still many things that human beings can do much more effectively than computers, such as identifying objects in a photo or video, performing data de-duplication, transcribing audio recordings or researching data details. Traditionally, tasks like this have been accomplished by hiring a large temporary workforce (which is time consuming, expensive and difficult to scale) or have gone undone.\n    ")]),this._v(" "),e("p",[this._v("\n      MTurk aims to make accessing human intelligence simple, scalable, and cost-effective. Businesses or developers needing tasks done (called Human Intelligence Tasks or “HITs”) can use the robust MTurk API to access thousands of high quality, global, on-demand Workers—and then programmatically integrate the results of that work directly into their business processes and systems. MTurk enables developers and businesses to achieve their goals more quickly and at a lower cost than was previously possible.\n    ")])])}]};var Mt=s("VU/8")(Ut,$t,!1,function(t){s("B89U")},"data-v-27d0f509",null).exports,Pt={components:{ElButton:P},name:"navi",methods:{requesterLogin:function(){this.$router.push("/requesterLogin")},workerLogin:function(){this.$router.push("workerLogin")}}},Ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-col",{attrs:{span:4}},[s("el-button",{staticStyle:{float:"right","margin-right":"50px"},attrs:{type:"text"}},[s("span",{staticStyle:{color:"coral","font-size":"20px"}},[t._v("NJU ")]),t._v(" "),s("span",{staticStyle:{color:"slategray","font-size":"20px"}},[t._v("bazinga turk")])])],1),t._v(" "),s("el-col",{staticStyle:{float:"left"},attrs:{span:10}},[s("el-button",{staticClass:"headerbutton",attrs:{type:"text"}},[t._v("首页")]),t._v(" "),s("el-button",{staticClass:"headerbutton",attrs:{type:"text"}},[t._v("费用&回报")]),t._v(" "),s("el-button",{staticClass:"headerbutton",attrs:{type:"text"}},[t._v("关于我们")]),t._v(" "),s("el-button",{staticClass:"headerbutton",attrs:{type:"text"}},[t._v("联系我们")])],1),t._v(" "),s("el-col",{attrs:{span:10}},[s("div",{staticStyle:{float:"right","margin-right":"30px"}},[s("el-button",{staticStyle:{"margin-top":"5px"},attrs:{type:"danger",plain:"",size:"small"},on:{click:t.requesterLogin}},[t._v("发布者登录")]),t._v(" "),s("el-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:t.workerLogin}},[t._v("工作者登录")])],1)])],1),t._v(" "),s("div",{staticClass:"line"})],1)},staticRenderFns:[]};var Ht={components:{MyNavi:s("VU/8")(Pt,Ot,!1,function(t){s("Uuno")},"data-v-cf2cb7e2",null).exports,MyHomepic:Mt}},Qt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-navi"),this._v(" "),e("my-homepic")],1)},staticRenderFns:[]};var qt=s("VU/8")(Ht,Qt,!1,function(t){s("Abqu")},"data-v-57332bb0",null).exports,Vt={components:{ElButton:P},name:"login-page",data:function(){return{loginInput:{username:"",password:"",role:""},loginRule:{username:[{validator:function(t,e,s){return""===e?s(new Error("请输入您的邮箱")):/^[A-Za-z0-9\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)?void s():s(new Error("邮箱格式错误"))},trigger:"blur"}],password:[{validator:function(t,e,s){if(""===e)return s(new Error("请输入密码"));s()},trigger:"blur"}]},showRole:"",errorInput:!1,user:{userId:""}}},props:["role"],created:function(){this.loginInput.role=this.role,"Requester"===this.role?this.showRole="发布者":"Worker"===this.role?this.showRole="工作者":this.showRole="系统管理员"},methods:{onLogin:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var s=e,a=new FormData;a.append("username",e.loginInput.username),a.append("password",e.loginInput.password),e.$api.post("/login",a,function(t){if(t.success)if("fail"!==t.data){var a="";e.$api.get("/user/current",null,function(t){a=t.data,"Admin"!==s.loginInput.role?(sessionStorage.setItem("userID",a),s.storeUserInfo()):s.$router.push("/adminPage")})}else e.$message.error("账号或密码错误！");else e.$message.error("服务器出了一些小问题～登录失败咯")})})},findPass:function(){this.$router.push("/resetPassEmail")},onSignIn:function(){this.$router.push("/"+this.role.toLocaleLowerCase()+"SignIn")},storeUserInfo:function(){var t=this;this.$api.get("/user/"+sessionStorage.getItem("userID"),null,function(e){e.data.role===t.loginInput.role?(sessionStorage.setItem("name",e.data.name),sessionStorage.setItem("avatar",e.data.avatar),sessionStorage.setItem("role",e.data.role),t.$router.push({name:"taskCenter"})):(t.$message.error("账号或密码错误！"),t.$api.get("/logout"))})}}},jt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.errorInput?s("el-alert",{attrs:{title:"账号或密码错误",type:"error","show-icon":""}}):t._e(),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"loginBox"},[s("p",{staticStyle:{"margin-left":"40px","font-size":"20px",color:"dimgray",height:"20px"}},[t._v(t._s(t.showRole)+"登录")]),t._v(" "),s("el-form",{ref:"loginInput",staticClass:"inputBox",staticStyle:{"margin-left":"40px","margin-right":"40px"},attrs:{model:t.loginInput,rules:t.loginRule,"label-position":"top",size:"mini"}},[s("el-form-item",{attrs:{label:"电子邮箱地址",prop:"username"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:t.loginInput.username,callback:function(e){t.$set(t.loginInput,"username",e)},expression:"loginInput.username"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.loginInput.password,callback:function(e){t.$set(t.loginInput,"password",e)},expression:"loginInput.password"}})],1)],1),t._v(" "),s("el-button",{staticClass:"loginbutton",staticStyle:{"margin-top":"25px"},attrs:{size:"small"},on:{click:function(e){t.onLogin("loginInput")}}},[t._v("登录")]),t._v(" "),"Admin"!==t.role?s("p",{staticStyle:{color:"darkgray","font-size":"10px","text-align":"center"}},[t._v("——————没有账户？——————")]):t._e(),t._v(" "),"Admin"!==t.role?s("el-button",{staticClass:"loginbutton",attrs:{size:"small"},on:{click:t.onSignIn}},[t._v("注册")]):t._e(),t._v(" "),s("el-button",{staticStyle:{"margin-left":"120px","margin-top":"8px"},attrs:{type:"text",size:"small"},on:{click:t.findPass}},[t._v("忘记密码？")]),t._v(" "),"Admin"===t.role?s("p",{staticStyle:{color:"darkgray","font-size":"10px","text-align":"center"}},[t._v("此用户仅限后台管理人员进行登录")]):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","text-align":"center","margin-top":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"slategray","font-size":"20px"}},[this._v("bazinga turk")])])}]};var Jt=s("VU/8")(Vt,jt,!1,function(t){s("mFkg")},"data-v-09366cca",null).exports,Wt={name:"worker-login",components:{Login:Jt}},Yt={render:function(){var t=this.$createElement;return(this._self._c||t)("login",{attrs:{role:"Worker"}})},staticRenderFns:[]};var Zt=s("VU/8")(Wt,Yt,!1,function(t){s("BAvI")},"data-v-167183d7",null).exports,Gt={name:"worker-login",components:{Login:Jt}},Xt={render:function(){var t=this.$createElement;return(this._self._c||t)("login",{attrs:{role:"Requester"}})},staticRenderFns:[]};var Kt=s("VU/8")(Gt,Xt,!1,function(t){s("nL8c")},"data-v-55fbea15",null).exports,te={name:"reset-pass-page",data:function(){var t=this;return{input:{email:"",pass:"",passAgain:""},signRule:{email:[{validator:function(t,e,s){return""===e?s(new Error("请输入您的邮箱")):/^[A-Za-z0-9\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)?void s():s(new Error("邮箱格式错误"))},trigger:"blur"}],pass:[{validator:function(t,e,s){return""===e?s(new Error("请输入密码")):/^[A-Z]+(?![0-9]+$)(?![a-zA-Z]+$)(?![A-Z0-9]+$)[0-9A-Za-z]{5,18}$/.test(e)?void s():s(new Error("密码格式不正确！必须以大写字母开头，含有小写字母和数字，长度为6-18位"))},trigger:"blur"}],passAgain:[{validator:function(e,s,a){return s!==t.input.pass?a(new Error("两次输入密码不一致")):(a(),""===s?a(new Error("请输入密码")):void a())},trigger:"blur"}]},signInInfo:{username:"",password:""}}},created:function(){for(var t=window.location.href,e="",s=0;s<t.length;s++)if("?"===t[s]){e=t.substring(s+1);break}var a=new RegExp("%40","");e=e.replace(a,"@"),this.input.email=e},methods:{confirm:function(t){var e=this;console.log(sessionStorage.getItem("resetPassUser")),this.$refs[t].validate(function(s){if(!s)return console.log("error submit!!"),!1;var a=e;a.signInInfo.username=e.$refs[t].model.email,a.signInInfo.password=e.$refs[t].model.pass,e.$api.post("/user/resetPassword",a.signInInfo,function(t){"FAIL"!==t.data?(e.$message.success("密码修改成功"),e.$router.push("/")):e.$message.error("该用户未注册或未激活！")})})}}},ee={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"signBox"},[s("p",{staticStyle:{"margin-left":"40px","font-size":"20px",color:"dimgray",height:"20px"}},[t._v("重置密码")]),t._v(" "),s("el-form",{ref:"input",staticStyle:{"margin-left":"40px","margin-right":"40px"},attrs:{model:t.input,rules:t.signRule,"label-position":"top",size:"mini"}},[s("el-form-item",{attrs:{label:"电子邮箱地址",prop:"email"}},[s("el-input",{attrs:{type:"email","auto-complete":"off",disabled:""},model:{value:t.input.email,callback:function(e){t.$set(t.input,"email",e)},expression:"input.email"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"pass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.input.pass,callback:function(e){t.$set(t.input,"pass",e)},expression:"input.pass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"passAgain"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.input.passAgain,callback:function(e){t.$set(t.input,"passAgain",e)},expression:"input.passAgain"}})],1)],1),t._v(" "),s("el-button",{staticClass:"signbutton",staticStyle:{"margin-top":"30px"},attrs:{size:"small",type:"primary"},on:{click:function(e){t.confirm("input")}}},[t._v("确认")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","text-align":"center","margin-top":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"slategray","font-size":"20px"}},[this._v("bazinga turk")])])}]};var se=s("VU/8")(te,ee,!1,function(t){s("LlDp")},"data-v-171bc3e8",null).exports,ae={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"Box"},[s("p",{staticStyle:{"margin-top":"30px","font-size":"23px"}},[t._v("重置密码失败")]),t._v(" "),t._m(1),t._v(" "),s("p",{staticStyle:{"font-size":"13px"}},[t._v("您的重置密码网址已过期，请尝试重新重置")]),t._v(" "),s("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary",size:"small"},on:{click:t.toHome}},[t._v("回到首页")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","text-align":"center","margin-top":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"slategray","font-size":"20px"}},[this._v("bazinga turk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticStyle:{"font-size":"13px"}},[this._v("感谢您选择")]),this._v(" "),e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("bazingaTurk")])])}]};var ie=s("VU/8")({name:"reset-pass-fail-page",methods:{toHome:function(){this.$router.push("/")}}},ae,!1,function(t){s("CuUT")},"data-v-5a3298f8",null).exports,ne={name:"reset-pass-email-page",data:function(){return{user:{username:""},emailRule:{username:[{validator:function(t,e,s){return""===e?s(new Error("请输入您的邮箱")):/^[A-Za-z0-9\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)?void s():s(new Error("邮箱格式错误"))},trigger:"blur"}]}}},methods:{findPass:function(t){var e=this,s=new FormData;s.append("username",this.user.username),this.$refs[t].validate(function(t){var a=e;if(!t)return console.log("error submit!!"),!1;console.log(s),e.$api.get("/user/retrievePassword/"+a.user.username,null,function(t){t.success?(sessionStorage.setItem("resetPassUser",a.user.username),e.$message.success("已向您的账户中发送邮件，请注意查收～")):e.$message.error("发送了一些小错误_(:з」∠)_请稍后再试")})})},toHome:function(){this.$router.push("/")}}},oe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"Box"},[s("p",{staticStyle:{"margin-top":"30px","font-size":"23px"}},[t._v("重置密码")]),t._v(" "),s("el-form",{ref:"user",staticClass:"inputBox",staticStyle:{"margin-left":"40px","margin-right":"40px"},attrs:{model:t.user,rules:t.emailRule,"label-position":"top",size:"mini"}},[s("el-form-item",{attrs:{label:"电子邮箱地址",prop:"username"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1)],1),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.findPass("user")}}},[t._v("确认")]),t._v(" "),t._m(1),t._v(" "),s("p",{staticStyle:{"font-size":"13px"}},[t._v("我们将会给您的注册邮箱发送一个链接，点击链接来进行密码重置")]),t._v(" "),s("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"small"},on:{click:t.toHome}},[t._v("回到首页")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","text-align":"center","margin-top":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"slategray","font-size":"20px"}},[this._v("bazinga turk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticStyle:{"font-size":"13px"}},[this._v("感谢您选择")]),this._v(" "),e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("bazingaTurk")])])}]};var re=s("VU/8")(ne,oe,!1,function(t){s("hzKF")},"data-v-072b4dff",null).exports,le={name:"worker-login",components:{Login:Jt}},ce={render:function(){var t=this.$createElement;return(this._self._c||t)("login",{attrs:{role:"Admin"}})},staticRenderFns:[]};var ue=s("VU/8")(le,ce,!1,function(t){s("ISEO")},"data-v-73087296",null).exports,he={name:"sign-in-page",data:function(){var t=this;return{signInput:{email:"",pass:"",passAgain:""},signRule:{email:[{validator:function(t,e,s){return""===e?s(new Error("请输入您的邮箱")):/^[A-Za-z0-9\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)?void s():s(new Error("邮箱格式错误"))},trigger:"blur"}],pass:[{validator:function(t,e,s){return""===e?s(new Error("请输入密码")):/^[A-Z]+(?![0-9]+$)(?![a-zA-Z]+$)(?![A-Z0-9]+$)[0-9A-Za-z]{5,18}$/.test(e)?void s():s(new Error("密码格式不正确！必须以大写字母开头，含有小写字母和数字，长度为6-18位"))},trigger:"blur"}],passAgain:[{validator:function(e,s,a){return s!==t.signInput.pass?a(new Error("两次输入密码不一致")):(a(),""===s?a(new Error("请输入密码")):void a())},trigger:"blur"}]},showRole:"",signInInfo:{username:"",password:"",role:""}}},props:["role"],created:function(){"Requester"===this.role?this.showRole="发布者":"Worker"===this.role?this.showRole="工作者":this.showRole="系统管理员"},methods:{onSignIn:function(t){var e=this,s=this;this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;s.signInInfo.username=e.$refs[t].model.email,s.signInInfo.password=e.$refs[t].model.pass,s.signInInfo.role=e.role,console.log(s.signInInfo),e.$api.post("/signUp",s.signInInfo,function(t){"FAIL"===t.data?(e.$message.error("该邮箱已被注册！:-P换一个吧～"),e.clearInfo()):e.$router.push("/activation"),t.success||e.$message.error("服务器出错啦～请稍后再尝试注册～")})})},onLogin:function(){this.$router.push("/"+this.role.toLocaleLowerCase()+"login")},clearInfo:function(){this.signInput.email="",this.signInput.pass="",this.signInput.passAgain=""}}},de={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"signBox"},[s("p",{staticStyle:{"margin-left":"40px","font-size":"20px",color:"dimgray",height:"20px"}},[t._v(t._s(t.showRole)+"注册")]),t._v(" "),s("el-form",{ref:"signInput",staticStyle:{"margin-left":"40px","margin-right":"40px"},attrs:{model:t.signInput,rules:t.signRule,"label-position":"top",size:"mini"}},[s("el-form-item",{attrs:{label:"电子邮箱地址",prop:"email"}},[s("el-input",{attrs:{type:"email","auto-complete":"off"},model:{value:t.signInput.email,callback:function(e){t.$set(t.signInput,"email",e)},expression:"signInput.email"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"pass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.signInput.pass,callback:function(e){t.$set(t.signInput,"pass",e)},expression:"signInput.pass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"passAgain"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.signInput.passAgain,callback:function(e){t.$set(t.signInput,"passAgain",e)},expression:"signInput.passAgain"}})],1)],1),t._v(" "),s("el-button",{staticClass:"signbutton",staticStyle:{"margin-top":"25px"},attrs:{size:"small"},on:{click:function(e){t.onSignIn("signInput")}}},[t._v("注册")]),t._v(" "),s("p",{staticStyle:{color:"darkgray","font-size":"10px","text-align":"center"}},[t._v("——————已有账户？——————")]),t._v(" "),s("el-button",{staticClass:"signbutton",attrs:{size:"small"},on:{click:function(e){t.onLogin()}}},[t._v("登录")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","text-align":"center","margin-top":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"slategray","font-size":"20px"}},[this._v("bazinga turk")])])}]};var pe=s("VU/8")(he,de,!1,function(t){s("o+8c")},"data-v-73646c88",null).exports,ge={name:"requester-sign-page",components:{WorkerSign:pe}},me={render:function(){var t=this.$createElement;return(this._self._c||t)("worker-sign",{attrs:{role:"Worker"}})},staticRenderFns:[]};var fe=s("VU/8")(ge,me,!1,function(t){s("Bmpv")},"data-v-d080db2a",null).exports,ve={name:"requester-sign-page",components:{ReqSign:pe}},ye={render:function(){var t=this.$createElement;return(this._self._c||t)("req-sign",{attrs:{role:"Requester"}})},staticRenderFns:[]};var xe=s("VU/8")(ve,ye,!1,function(t){s("R5uY")},"data-v-46c0aa2d",null).exports,be={components:{ElButton:P},name:"activation-page",methods:{toReqLogin:function(){this.$router.push("/requesterLogin")},toWorkerLogin:function(){this.$router.push("/workerLogin")}}},ke={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"Box"},[s("p",{staticStyle:{"margin-top":"30px","font-size":"23px"}},[t._v("账户激活成功")]),t._v(" "),t._m(1),t._v(" "),s("p",{staticStyle:{"font-size":"13px"}},[t._v("最实用的众包标注平台")]),t._v(" "),s("el-button",{staticStyle:{"margin-top":"50px","margin-right":"20px"},attrs:{type:"primary",size:"small"},on:{click:t.toReqLogin}},[t._v("发布者点此登录")]),t._v(" "),s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:t.toWorkerLogin}},[t._v("工作者点此登录")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","text-align":"center","margin-top":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"slategray","font-size":"20px"}},[this._v("bazinga turk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticStyle:{"font-size":"13px"}},[this._v("欢迎来到")]),this._v(" "),e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("bazingaTurk")])])}]};var _e=s("VU/8")(be,ke,!1,function(t){s("qPAg")},"data-v-661a24c7",null).exports,we={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"Box"},[s("p",{staticStyle:{"margin-top":"30px","font-size":"23px"}},[t._v("激活失败")]),t._v(" "),t._m(1),t._v(" "),s("p",{staticStyle:{"font-size":"13px"}},[t._v("您的激活网址已过期，请尝试重新注册")]),t._v(" "),s("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary",size:"small"},on:{click:t.toHome}},[t._v("回到首页")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","text-align":"center","margin-top":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"slategray","font-size":"20px"}},[this._v("bazinga turk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticStyle:{"font-size":"13px"}},[this._v("感谢您注册")]),this._v(" "),e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("bazingaTurk")])])}]};var Ie=s("VU/8")({name:"sign-fail-page",methods:{toHome:function(){this.$router.push("/")}}},we,!1,function(t){s("Zh4d")},"data-v-42d1eab6",null).exports,Se={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"Box"},[s("p",{staticStyle:{"margin-top":"30px","font-size":"23px"}},[t._v("注册成功")]),t._v(" "),t._m(1),t._v(" "),s("p",{staticStyle:{"font-size":"13px"}},[t._v("请进入注册邮箱进行账户激活")]),t._v(" "),s("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary",size:"small"},on:{click:t.toHome}},[t._v("回到首页")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px","text-align":"center","margin-top":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"slategray","font-size":"20px"}},[this._v("bazinga turk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticStyle:{"font-size":"13px"}},[this._v("感谢您注册")]),this._v(" "),e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("bazingaTurk")])])}]};var Ae=s("VU/8")({name:"activation-prompt-page",methods:{toHome:function(){this.$router.push("/")}}},Se,!1,function(t){s("UDUd")},"data-v-31a97d36",null).exports,Ce={components:{ElButton:P},name:"task-lobby-list",data:function(){return{config:[],searchInfo:"",task:{},userRole:""}},created:function(){this.userRole=sessionStorage.getItem("role"),this.getConfiguration()},methods:{qualified:function(t){return!1},handleDetail:function(t){this.$api.get("/task/"+t+"/view",null),this.$router.push("/taskLobby/"+t)},getConfiguration:function(){var t=this;this.$api.get("/lobby/",null,function(e){console.log(e.data),t.config=e.data})},dateFormat:function(t,e,s,a){return s},taskTypeFormat:function(t,e,s,a){switch(s){case"CLASSIFICATION":return"局部分类标注任务";case"DETECTION":return"检测任务";case"SEGMENTATION":return"区域划分任务"}},showAllTasks:function(){this.getConfiguration()},showRecommandTasks:function(){var t=this;this.$api.get("/recommend/content/"+sessionStorage.getItem("userID"),null,function(e){if(e.data.length<=10)t.config=e.data;else{for(var s=[],a=0;a<10;a++)s.push(e.data[a]);t.config=s}})},showHotTasks:function(){var t=this;this.$api.get("/recommend/heat",null,function(e){if(e.data.length<=5)t.config=e.data;else{for(var s=[],a=0;a<5;a++)s.push(e.data[a]);t.config=s}})}}},Te={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"headerNavi"},[s("el-row",{staticStyle:{padding:"5px","border-bottom":"lightgrey 1px solid"}},[s("el-col",{attrs:{span:7}},[s("p")]),t._v(" "),s("el-col",{attrs:{span:2}},[s("el-button",{staticClass:"taskButton",attrs:{round:"",size:"mini"},on:{click:t.showAllTasks}},[t._v("全部任务")])],1),t._v(" "),s("el-col",{attrs:{span:2}},["Worker"===t.userRole?s("el-button",{staticClass:"taskButton",attrs:{round:"",size:"mini"},on:{click:t.showRecommandTasks}},[t._v("为你推荐")]):t._e()],1),t._v(" "),s("el-col",{attrs:{span:2}},[s("el-button",{staticClass:"taskButton",attrs:{round:"",size:"mini"},on:{click:t.showHotTasks}},[t._v("热门任务TOP5")])],1)],1)],1),t._v(" "),s("div",{staticStyle:{"margin-top":"5px"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.config,stripe:"",height:"700"}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[s("el-form-item",{attrs:{label:"任务描述"}},[s("span",[t._v(t._s(e.row.description))])])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{type:"index"}}),t._v(" "),s("el-table-column",{attrs:{prop:"requesterName",label:"任务发起者",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"taskName",label:"任务名称",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"taskType",formatter:t.taskTypeFormat,label:"任务类型",sortable:"",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"size",label:"总任务大小",sortable:"",width:"130"}}),t._v(" "),s("el-table-column",{attrs:{prop:"partTimes",label:"子任务个数",sortable:"",width:"130"}}),t._v(" "),s("el-table-column",{attrs:{prop:"assignmentReward",label:"积分奖励",sortable:"",width:"130"}}),t._v(" "),s("el-table-column",{attrs:{prop:"createTime",label:"创建时间",sortable:"",formatter:t.dateFormat,width:"200"}}),t._v(" "),s("el-table-column",{attrs:{width:"36"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("a",{directives:[{name:"show",rawName:"v-show",value:t.qualified(e.row.level),expression:"qualified(scope.row.level)"}],staticClass:"ali-icon-mima"})]}}])}),t._v(" "),s("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",disabled:t.qualified(e.row.level),type:"danger"},on:{click:function(s){t.handleDetail(e.row.taskId)}}},[t._v("详情")])]}}])})],1)],1)])},staticRenderFns:[]};var Ee=s("VU/8")(Ce,Te,!1,function(t){s("ihr2")},null,null).exports,Le={components:{ElHeader:it,ElMain:m,ElContainer:p,manage_header:ut,taskLobbyList:Ee},name:"task-lobby"},ze={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("manage_header"),this._v(" "),e("task-lobby-list")],1)},staticRenderFns:[]};s("VU/8")(Le,ze,!1,function(t){s("t3hZ")},null,null).exports;var Be={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block"},[s("el-carousel",{attrs:{height:"600px","indicator-position":"outside"}},t._l(t.imgs,function(e,a){return s("el-carousel-item",{key:e},[s("p",{staticStyle:{"text-align":"center",margin:"0px","background-color":"coral",color:"white"}},[t._v(t._s(a+1))]),t._v(" "),s("img",{staticStyle:{height:"590px",width:"100%"},attrs:{src:e}})])}))],1)},staticRenderFns:[]};var Re={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block"},[s("el-carousel",{attrs:{height:"600px","indicator-position":"outside"}},t._l(t.imgs,function(e,a){return s("el-carousel-item",{key:e},[s("p",{staticStyle:{"text-align":"center",margin:"0px","background-color":"coral",color:"white"}},[t._v(t._s(a+1))]),t._v(" "),s("img",{staticStyle:{height:"590px",width:"100%"},attrs:{src:e}})])}))],1)},staticRenderFns:[]};var De={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block"},[s("el-carousel",{attrs:{height:"600px","indicator-position":"outside"}},t._l(t.imgs,function(e,a){return s("el-carousel-item",{key:e},[s("p",{staticStyle:{"text-align":"center",margin:"0px","background-color":"coral",color:"white"}},[t._v(t._s(a+1))]),t._v(" "),s("img",{staticStyle:{height:"590px",width:"100%"},attrs:{src:e}})])}))],1)},staticRenderFns:[]};var Fe={components:{ElHeader:it,ElMain:m,ElContainer:p,manage_header:ut,segGuide:s("VU/8")({name:"seg-guide",data:function(){return{imgs:["server/requesterImg/seg1.png","server/requesterImg/seg2.png","server/requesterImg/seg3.png"]}}},Be,!1,function(t){s("6EIR")},null,null).exports,detGuide:s("VU/8")({name:"detetion-guide",data:function(){return{imgs:["server/requesterImg/detetion1.png","server/requesterImg/detetion2.png","server/requesterImg/detetion3.png"]}}},Re,!1,function(t){s("f9VF")},null,null).exports,partGuide:s("VU/8")({name:"part-guide",data:function(){return{imgs:["server/requesterImg/classification1.png","server/requesterImg/classification2.png","server/requesterImg/classification3.png"]}}},De,!1,function(t){s("tXGR")},null,null).exports},name:"task-detail",data:function(){return{userId:"",taskId:"",isWorker:!1,taskType:"",previewList:""}},created:function(){this.taskId=this.$route.params.id,this.userId=sessionStorage.getItem("userID"),this.setType(),this.setPreview()},mounted:function(){this.judgeIsWorker()},destroyed:function(){console.log("destroyed")},methods:{judgeIsWorker:function(){"Worker"===sessionStorage.getItem("role")&&(this.isWorker=!0)},receipt:function(){var t=this;this.$api.get("/assignment/"+this.taskId+"/"+this.userId+"/accept",null,function(e){console.log(e.data),"SUCCESS"===e.data&&t.$router.push("/taskCenter")})},cancel:function(){this.$router.push("/taskCenter")},setType:function(){var t=this;this.$api.get("/task/"+this.taskId+"/brief",null,function(e){t.taskType=e.data.taskType})},setPreview:function(){var t=this;this.$api.get("/task/"+this.taskId+"/preview",null,function(e){t.previewList=e.data})}}},Ne={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticStyle:{margin:"0px",padding:"0px"}},[s("el-header",{staticStyle:{margin:"0px",padding:"0px"}},[s("manage_header")],1),t._v(" "),s("el-container",[s("el-main",[s("div",{staticStyle:{"padding-top":"30px","padding-left":"68px","padding-right":"68px","text-align":"center"}},[s("div",{staticStyle:{border:"lightgrey 1px solid","margin-bottom":"20px"}},[s("p",{staticStyle:{color:"dimgray"}},[t._v("图片预览")]),t._v(" "),s("el-carousel",{staticStyle:{width:"1000px",margin:"auto"},attrs:{interval:4e3,type:"card",height:"300px"}},t._l(t.previewList,function(t){return s("el-carousel-item",{key:t},[s("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:t}})])}))],1),t._v(" "),s("div",{staticStyle:{border:"lightgray 1px solid",height:"600px"}},[s("p",{staticStyle:{color:"dimgray"}},[t._v("操作指引")]),t._v(" "),"SEGMENTATION"===t.taskType?s("seg-guide"):t._e(),t._v(" "),"CLASSIFICATION"===t.taskType?s("part-guide"):t._e(),t._v(" "),"DETECTION"===t.taskType?s("det-guide"):t._e()],1)])]),t._v(" "),s("el-footer",{staticStyle:{"padding-top":"20px","text-align":"center"}},[t.isWorker?s("el-button",{attrs:{id:"receipt",type:"danger",height:"20",round:""},on:{click:t.receipt}},[t._v("接受")]):t._e(),t._v(" "),s("el-button",{attrs:{id:"cancel",type:"danger",height:"20",round:""},on:{click:t.cancel}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]};var Ue=s("VU/8")(Fe,Ne,!1,function(t){s("qJR7")},null,null).exports,$e={name:"all-task-card",data:function(){return{ongoingAssign:0,finishedAssign:0,allAssign:0}},created:function(){this.setOngoing(),this.setFinished()},methods:{setOngoing:function(){var t=this;this.$api.get("/"+sessionStorage.getItem("role").toLowerCase()+"/"+sessionStorage.getItem("userID")+"/ongoing",null,function(e){t.ongoingAssign=e.data.length,t.allAssign+=t.ongoingAssign})},setFinished:function(){var t=this;this.$api.get("/"+sessionStorage.getItem("role").toLowerCase()+"/"+sessionStorage.getItem("userID")+"/finished",null,function(e){t.finishedAssign=e.data.length,t.allAssign+=t.finishedAssign})}}},Me={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"15px"}},[t._v("任务完成情况")])]),t._v(" "),s("div",[s("el-row",[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666","font-size":"13px"}},[t._v("进行中任务数")]),t._v(" "),s("p",{staticClass:"big-num"},[t._v(t._s(t.ongoingAssign))])]),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666","font-size":"13px"}},[t._v("已完成任务数")]),t._v(" "),s("p",{staticClass:"big-num"},[t._v(t._s(t.finishedAssign))])]),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666","font-size":"13px"}},[t._v("所有任务数")]),t._v(" "),s("p",{staticClass:"big-num"},[t._v(t._s(t.allAssign))])])],1)],1)])},staticRenderFns:[]};var Pe=s("VU/8")($e,Me,!1,function(t){s("GGZA")},"data-v-8b18f6a6",null).exports,Oe={name:"user-data",components:{ElContainer:p,allTask:Pe},data:function(){return{userInfo:{}}},created:function(){this.setInfo()},methods:{setInfo:function(){var t=this;this.$api.get("/user/"+sessionStorage.getItem("userID"),null,function(e){t.userInfo=e.data})}}},He={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticStyle:{"margin-left":"250px","margin-right":"250px","margin-top":"50px"}},[s("el-col",{attrs:{span:8}},[s("el-card",{staticStyle:{width:"200px"},attrs:{shadow:"hover"}},[s("div",[s("span",{staticStyle:{"font-size":"15px",color:"dimgray"}},[t._v("连续登录天数")]),t._v(" "),s("p",{staticStyle:{"text-align":"center"}},[s("span",{staticStyle:{color:"coral","font-size":"40px",margin:"5px"}},[t._v(t._s(t.userInfo.continuousLoginDays))]),t._v(" "),s("span",{staticStyle:{"font-size":"15px",color:"dimgray"}},[t._v("天")])])])])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:16}},[s("all-task")],1)],1)},staticRenderFns:[]};var Qe=s("VU/8")(Oe,He,!1,function(t){s("BgDj")},"data-v-2b5da8cc",null).exports,qe=(s("Vjyz"),{components:{ElButton:P},name:"user-projext",data:function(){return{role:"",userId:"",taskList:[],state:"进行中"}},created:function(){this.role=sessionStorage.getItem("role"),this.userId=sessionStorage.getItem("userID"),"进行中"===this.state?this.getOngoingTaskList():this.getFinishedTaskList()},methods:{getOngoingTaskList:function(){var t=this;this.$api.get("/"+this.role.toLowerCase()+"/"+sessionStorage.getItem("userID")+"/ongoing",null,function(e){console.log(e.data),t.taskList=e.data})},getFinishedTaskList:function(){var t=this;this.$api.get("/"+this.role.toLowerCase()+"/"+sessionStorage.getItem("userID")+"/finished",null,function(e){t.taskList=e.data})},change:function(){"进行中"===this.state?this.getOngoingTaskList():this.getFinishedTaskList()},beginTask:function(t,e,s,a){"CLASSIFICATION"===t&&this.$router.push("/partClassification/doTask/"+e+"/"+s+"/"+a),"DETECTION"===t&&this.$router.push("/detection/doTask/"+e+"/"+s+"/"+a),"SEGMENTATION"===t&&this.$router.push("/segment/doTask/"+e+"/"+s+"/"+a)},openTask:function(t,e,s,a){"CLASSIFICATION"===t&&this.$router.push("/partClassificationDoneCheck/"+e+"/"+s+"/"+a),"SEGMENTATION"===t&&this.$router.push("/segmentCheck/"+e+"/"+s+"/"+a),"DETECTION"===t&&this.$router.push("/detectionDoneCheck/"+e+"/"+s+"/"+a)}}}),Ve={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("el-radio-group",{attrs:{size:"small"},on:{change:t.change},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[s("el-radio-button",{attrs:{label:"进行中"}}),t._v(" "),s("el-radio-button",{attrs:{label:"已完成"}})],1),t._v(" "),s("ul",{staticStyle:{border:"lightgrey 1px solid",margin:"20px"}},t._l(t.taskList,function(e){return s("li",{staticStyle:{display:"block"}},[s("el-row",{staticStyle:{height:"50px"}},[s("el-col",{attrs:{span:6}},["Worker"===t.role?s("div",{staticStyle:{"margin-top":"15px","font-size":"13px",color:"#969896","margin-bottom":"5px"}},[t._v(t._s(e.requesterName))]):t._e(),t._v(" "),"Requester"===t.role?s("div",{staticStyle:{"margin-top":"15px","font-size":"13px","margin-bottom":"5px"}},[t._v(t._s(e.createTime))]):t._e()]),t._v(" "),s("el-col",{attrs:{span:5}},[s("div",{staticStyle:{"margin-top":"15px","font-size":"13px","margin-bottom":"5px"}},[t._v(t._s(e.taskName))])]),t._v(" "),s("el-col",{attrs:{span:5}},[s("div",{staticStyle:{"margin-top":"15px","font-size":"13px","margin-bottom":"5px"}},[t._v(t._s(e.taskType))])]),t._v(" "),s("el-col",{attrs:{span:4}},["Worker"===t.role?s("div",{staticStyle:{"margin-top":"15px","font-size":"13px","margin-bottom":"5px"}},[t._v(t._s(e.progress)+"/"+t._s(e.size))]):t._e(),t._v(" "),"Requester"===t.role?s("div",{staticStyle:{"margin-top":"15px","font-size":"13px","margin-bottom":"5px"}},[t._v(t._s(e.assignmentReward)+"¥")]):t._e()]),t._v(" "),s("el-col",{attrs:{span:3}},["Worker"===t.role&&"进行中"===t.state?s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{plain:"",type:"danger",size:"mini"},on:{click:function(s){t.beginTask(e.taskType,e.taskId,e.assignmentId,t.userId)}}},[t._v("继续")]):t._e(),t._v(" "),"Worker"===t.role&&"已完成"===t.state?s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{plain:"",type:"success",size:"mini"},on:{click:function(s){t.openTask(e.taskType,e.taskId,e.assignmentId,t.userId)}}},[t._v("查看")]):t._e()],1)],1),t._v(" "),s("div",{staticClass:"line"})],1)}))],1)},staticRenderFns:[]};var je={name:"user-comment",data:function(){return{eff:0,accuracy:0,reward:0}},created:function(){this.setWorkerInfo()},methods:{setWorkerInfo:function(){var t=this;this.$api.get("/worker/"+sessionStorage.getItem("userID"),null,function(e){t.eff=parseFloat(Number(e.data.efficiency).toFixed(2)),t.accuracy=parseFloat(Number(100*e.data.accuracy).toFixed(2)),t.reward=parseFloat(Number(e.data.reward).toFixed(2))})}}},Je={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticStyle:{"margin-left":"300px","margin-right":"300px","margin-top":"50px"}},[s("el-col",{attrs:{span:8}},[s("el-card",{staticStyle:{width:"200px","margin-bottom":"20px"},attrs:{shadow:"hover"}},[s("div",[s("span",{staticStyle:{"font-size":"15px",color:"dimgray"}},[t._v("工作效率")]),t._v(" "),s("p",{staticStyle:{"text-align":"center"}},[s("span",{staticStyle:{color:"coral","font-size":"40px",margin:"5px"}},[t._v(t._s(t.eff))]),t._v(" "),s("span",{staticStyle:{"font-size":"15px",color:"dimgray"}},[t._v("元/小时")])])])])],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-card",{staticStyle:{width:"200px"},attrs:{shadow:"hover"}},[s("div",[s("span",{staticStyle:{"font-size":"15px",color:"dimgray"}},[t._v("标注准确率")]),t._v(" "),s("p",{staticStyle:{"text-align":"center"}},[s("span",{staticStyle:{color:"red","font-size":"40px",margin:"5px"}},[t._v(t._s(t.accuracy))]),t._v(" "),s("span",{staticStyle:{"font-size":"15px",color:"dimgray"}},[t._v("%")])])])])],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-card",{staticStyle:{width:"200px"},attrs:{shadow:"hover"}},[s("div",[s("span",{staticStyle:{"font-size":"15px",color:"dimgray"}},[t._v("总奖励")]),t._v(" "),s("p",{staticStyle:{"text-align":"center"}},[s("span",{staticStyle:{color:"gold","font-size":"40px",margin:"5px"}},[t._v(t._s(t.reward))]),t._v(" "),s("span",{staticStyle:{"font-size":"15px",color:"dimgray"}},[t._v("¥")])])])])],1)],1)},staticRenderFns:[]};var We={name:"user-center-page",components:{ElButton:P,UserData:Qe,UserProject:s("VU/8")(qe,Ve,!1,function(t){s("7psV")},"data-v-f5414eb6",null).exports,UserComment:s("VU/8")(je,Je,!1,function(t){s("l+tA")},"data-v-2eba9d9b",null).exports,myHeader:ut},data:function(){return{isUserCenter:!0,showType:"user",userInfo:{},rank:0}},mounted:function(){this.setUserInfo(),"Worker"===sessionStorage.getItem("role")&&this.setRank()},methods:{setRank:function(){var t=this;this.$api.get("/worker/"+sessionStorage.getItem("userID")+"/rank",null,function(e){t.rank=e.data})},handleClick:function(t,e){this.showType=t.name},showInfo:function(){this.$router.push("/userInfo")},setUserInfo:function(){var t=this;this.$api.get("/user/"+sessionStorage.getItem("userID"),null,function(e){t.userInfo=e.data,console.log(e.data)})},logout:function(){var t=this,e=this;this.$confirm("您确定要登出吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){sessionStorage.setItem("userId",""),t.$api.get("/logout"),e.$router.push("/"),t.$message({type:"success",message:"已退出登录!"})}).catch(function(){t.$message({type:"info",message:"已取消登出"})})},showRank:function(){this.$router.push("/userRank")}}},Ye={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("my-header",{attrs:{isUserCenter:t.isUserCenter}}),t._v(" "),s("div",{staticClass:"userInfoDiv"},[s("div",{staticStyle:{height:"10px"}}),t._v(" "),s("el-row",{attrs:{type:"flex"}},[s("el-col",{attrs:{span:4}},["Worker"===t.userInfo.role?s("button",{staticClass:"rank",on:{click:t.showRank}},[t._v("全区排名：#"+t._s(t.rank))]):t._e()]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"info"},[s("img",{staticClass:"avatar",attrs:{src:t.userInfo.avatar}}),t._v(" "),s("p",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.userInfo.name))]),t._v(" "),s("div",[s("a",{staticClass:"el-icon-message"}),t._v(" "),s("a",{staticStyle:{"font-size":"13px"}},[t._v(t._s(t.userInfo.publicEmail))])])])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-row",[s("el-col",{attrs:{span:5}},[s("p")]),t._v(" "),s("el-col",{attrs:{span:19}},[s("button",{staticClass:"logoutButton",on:{click:t.logout}}),t._v(" "),s("button",{staticClass:"chatButton"}),t._v(" "),s("button",{staticClass:"editButton",on:{click:t.showInfo}})])],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"choosePane"},[s("el-tabs",{staticStyle:{display:"inline-block"},on:{"tab-click":t.handleClick}},[s("el-tab-pane",{attrs:{label:"个人",name:"user"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"项目",name:"project"}}),t._v(" "),"Worker"===t.userInfo.role?s("el-tab-pane",{attrs:{label:"评估",name:"comment"}}):t._e()],1)],1),t._v(" "),s("div",["user"===t.showType?s("user-data"):t._e(),t._v(" "),"project"===t.showType?s("user-project"):t._e(),t._v(" "),"comment"===t.showType?s("user-comment"):t._e()],1)],1)},staticRenderFns:[]};var Ze=s("VU/8")(We,Ye,!1,function(t){s("URI9")},"data-v-9af97c08",null).exports,Ge={name:"user-info-page",data:function(){return{user:{userID:""},avatarUrl:"http://localhost:3000/assets/img/jobs.e4f30b9.jpg",fileList:[],postAddress:"",userInfo:{name:"",public_email:""},currentUserInfo:{},rules:{name:[{validator:function(t,e,s){if(""===e)return s(new Error("昵称不能为空"));s()},trigger:"blur"}],public_email:[{validator:function(t,e,s){if(!/^[A-Za-z0-9\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)&&""!==e)return s(new Error("邮箱格式错误"));s()},trigger:"blur"}]}}},mounted:function(){this.user.userId=sessionStorage.getItem("userID"),this.setUserInfo()},methods:{handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t),this.currentUserInfo.avatar=t.url},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},postAvatar:function(t){var e=new FormData;e.append("avatar",t.file);var s=this;this.$api.post("/user/"+sessionStorage.getItem("userID")+"/avatar",e,function(t){s.setUserInfo(),window.location.reload()})},submitInfo:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var s=e,a=new FormData;a.append("public_email",s.userInfo.public_email),a.append("name",s.userInfo.name),sessionStorage.setItem("name",s.userInfo.name),e.$api.post("/user/"+sessionStorage.getItem("userID"),a,function(t){window.location.reload()})})},setUserInfo:function(){var t=this;this.$api.get("/user/"+sessionStorage.getItem("userID"),null,function(e){t.currentUserInfo=e.data,sessionStorage.setItem("avatar",e.data.avatar)})}}},Xe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"margin-left":"200px","margin-right":"200px"}},[s("el-row",[s("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:5}},[s("p",{staticStyle:{"font-size":"20px"}},[t._v("头像")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("img",{staticClass:"avatar",attrs:{src:t.currentUserInfo.avatar}})]),t._v(" "),s("el-col",{staticStyle:{"margin-top":"20px","text-align":"left"},attrs:{span:8}},[s("p",{staticStyle:{"margin-bottom":"30px"}},[t._v("上传一个新的头像")]),t._v(" "),s("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":t.postAvatar,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:1,"on-exceed":t.handleExceed,"file-list":t.fileList}},[s("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传头像")]),t._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("el-row",[s("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:5}},[s("p",{staticStyle:{"font-size":"20px"}},[t._v("信息")])]),t._v(" "),s("el-col",{staticStyle:{"margin-top":"40px"},attrs:{span:19}},[s("el-form",{ref:"userInfo",staticClass:"demo-ruleForm",attrs:{model:t.userInfo,"status-icon":"",rules:t.rules,"label-width":"100px","label-position":"top",size:"small"}},[s("el-form-item",{attrs:{label:"昵称",prop:"name"}},[s("el-input",{attrs:{placeholder:t.currentUserInfo.name,"auto-complete":"off"},model:{value:t.userInfo.name,callback:function(e){t.$set(t.userInfo,"name",e)},expression:"userInfo.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"公开的邮箱",prop:"public_email"}},[s("el-input",{attrs:{placeholder:t.currentUserInfo.publicEmail,"auto-complete":"off"},model:{value:t.userInfo.public_email,callback:function(e){t.$set(t.userInfo,"public_email",e)},expression:"userInfo.public_email"}})],1),t._v(" "),s("el-form-item",[s("el-button",{staticClass:"updateButton",attrs:{size:"small"},on:{click:function(e){t.submitInfo("userInfo")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ke={components:{ElButton:P},name:"user-acount-page",data:function(){var t=this;return{userInfo:{},userAccountEmail:{newEmail:""},password:{newPassword:"",newPasswordAgain:""},emailRule:{newEmail:[{validator:function(t,e,s){return""===e?s(new Error("请输入您的邮箱")):/^[A-Za-z0-9\u4e00-\u9fa5_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)?void s():s(new Error("邮箱格式错误"))},trigger:"blur"}]},passRules:{newPassword:[{validator:function(t,e,s){return""===e?s(new Error("请输入密码")):/^[A-Z]+(?![0-9]+$)(?![a-zA-Z]+$)(?![A-Z0-9]+$)[0-9A-Za-z]{5,18}$/.test(e)?void s():s(new Error("密码格式不正确！必须以大写字母开头，含有小写字母和数字，长度为6-18位"))},trigger:"blur"}],newPasswordAgain:[{validator:function(e,s,a){return""===s?a(new Error("请输入密码")):s!==t.password.newPassword?a(new Error("两次输入密码不一致")):void a()},trigger:"blur"}]}}},mounted:function(){this.setUserInfo()},methods:{submitUsername:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var s=e,a=new FormData;a.append("email",s.userAccountEmail.newEmail),e.$api.post("/user/"+sessionStorage.getItem("userID")+"/accountEmail",a,function(t){window.location.reload()})})},submitPass:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var s=e,a=new FormData;a.append("password",s.password.newPassword),e.$api.post("/user/"+sessionStorage.getItem("userID")+"/password",a,function(t){window.location.reload()})})},setUserInfo:function(){var t=this;this.$api.get("/user/"+sessionStorage.getItem("userID"),null,function(e){t.userInfo=e.data})},removeUser:function(){var t=this,e=this;this.$confirm("此操作将永久移除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$api.get("/user/"+sessionStorage.getItem("userID")+"/remove",null,function(t){e.$router.push("/")}),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},ts={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"margin-left":"200px","margin-right":"200px"}},[s("el-row",[s("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:5}},[s("p",{staticStyle:{"font-size":"20px"}},[t._v("账户")])]),t._v(" "),s("el-col",{staticStyle:{"margin-top":"40px"},attrs:{span:19}},[s("el-form",{ref:"userAccountEmail",attrs:{model:t.userAccountEmail,rules:t.emailRule,"status-icon":""}},[s("el-form-item",{attrs:{label:"邮箱",prop:"newEmail"}},[s("el-input",{attrs:{placeholder:t.userInfo.username,size:"small",clearable:"","auto-complete":"off"},model:{value:t.userAccountEmail.newEmail,callback:function(e){t.$set(t.userAccountEmail,"newEmail",e)},expression:"userAccountEmail.newEmail"}})],1)],1),t._v(" "),s("el-button",{staticClass:"updateButton",attrs:{size:"small"},on:{click:function(e){t.submitUsername("userAccountEmail")}}},[t._v("提交")])],1)],1),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("el-row",[s("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:5}},[s("p",{staticStyle:{"font-size":"20px"}},[t._v("密码")])]),t._v(" "),s("el-col",{staticStyle:{"margin-top":"40px"},attrs:{span:19}},[s("el-form",{ref:"password",attrs:{model:t.password,rules:t.passRules,"status-icon":""}},[s("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入新密码",size:"small",clearable:"","auto-complete":"off"},model:{value:t.password.newPassword,callback:function(e){t.$set(t.password,"newPassword",e)},expression:"password.newPassword"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"确认新密码",prop:"newPasswordAgain"}},[s("el-input",{attrs:{type:"password",placeholder:"请再次输入新密码",size:"small",clearable:"","auto-complete":"off"},model:{value:t.password.newPasswordAgain,callback:function(e){t.$set(t.password,"newPasswordAgain",e)},expression:"password.newPasswordAgain"}})],1)],1),t._v(" "),s("el-button",{staticClass:"updateButton",attrs:{size:"small"},on:{click:function(e){t.submitPass("password")}}},[t._v("提交")])],1)],1),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("el-row",[s("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:5}},[s("p",{staticStyle:{"font-size":"20px"}},[t._v("移除")])]),t._v(" "),s("el-col",{staticStyle:{"margin-top":"40px"},attrs:{span:19}},[s("el-button",{staticClass:"removeButton",attrs:{size:"small"},on:{click:t.removeUser}},[t._v("移除该账户")])],1)],1)],1)},staticRenderFns:[]};var es={name:"user-info-page",components:{Header:ut,UserInfo:s("VU/8")(Ge,Xe,!1,function(t){s("BLIf")},"data-v-663b5328",null).exports,UserAccount:s("VU/8")(Ke,ts,!1,function(t){s("GpgS")},"data-v-81fd000e",null).exports},data:function(){return{type:"info"}},methods:{handleClick:function(t,e){this.type=t.name}}},ss={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Header"),t._v(" "),s("div",{staticStyle:{height:"5px","background-color":"rgba(252, 252, 252, 1)"}}),t._v(" "),s("div",{staticClass:"choosePane",staticStyle:{"background-color":"rgba(252, 252, 252, 1)"}},[s("el-tabs",{staticStyle:{display:"inline-block"},on:{"tab-click":t.handleClick}},[s("el-tab-pane",{attrs:{label:"资料",name:"info"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"账户",name:"account"}})],1)],1),t._v(" "),s("div",["info"===t.type?s("user-info"):t._e(),t._v(" "),"account"===t.type?s("user-account"):t._e()],1)],1)},staticRenderFns:[]};var as=s("VU/8")(es,ss,!1,function(t){s("546Z")},"data-v-5307ad62",null).exports,is={name:"daily-rank",mounted:function(){var t=s("XLwt").init(document.getElementById("dailyRank")),e=[["2018-04-05",3],["2018-04-06",1],["2018-04-07",5],["2018-04-08",3],["2018-04-09",2],["2018-04-10",4],["2018-04-11",6],["2018-04-12",5],["2018-04-13",10],["2018-04-14",5],["2018-04-15",2],["2018-04-16",8],["2018-04-17",1],["2018-04-18",6],["2018-04-19",12],["2018-04-20",6],["2018-04-21",7],["2018-04-22",4],["2018-04-23",7],["2018-04-24",5]],a={visualMap:{show:!1,type:"continuous",seriesIndex:0,min:0,max:400},title:{left:"center",text:"日排名变化",textStyle:{color:"#696969",fontWeight:"lighter"}},tooltip:{trigger:"axis"},xAxis:{data:e.map(function(t){return t[0]})},yAxis:{splitLine:{show:!0}},grid:{bottom:"30%"},textStyle:{color:"#696969",fontWeight:"lighter"},series:{type:"line",lineStyle:{color:"#FFD700"},showSymbol:!1,data:e.map(function(t){return t[1]})}};t.setOption(a)}},ns={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{height:"400px",width:"1000px",margin:"60px"},attrs:{id:"dailyRank"}})},staticRenderFns:[]};var os=s("VU/8")(is,ns,!1,function(t){s("XHk3")},"data-v-b21605d4",null).exports,rs={name:"monthly-rank",mounted:function(){var t=s("XLwt").init(document.getElementById("monthlyRank")),e=[["2018-01",5],["2018-02",6],["2018-03",5],["2018-04",3]],a={visualMap:{show:!1,type:"continuous",seriesIndex:0,min:0,max:400},title:{left:"center",text:"月排名变化",textStyle:{color:"#696969",fontWeight:"lighter"}},tooltip:{trigger:"axis"},xAxis:{data:e.map(function(t){return t[0]})},yAxis:{splitLine:{show:!0}},grid:{bottom:"30%"},textStyle:{color:"#696969",fontWeight:"lighter"},series:{type:"line",lineStyle:{color:"#ff8713"},showSymbol:!1,data:e.map(function(t){return t[1]})}};t.setOption(a)}},ls={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{height:"400px",width:"500px","margin-left":"100px"},attrs:{id:"monthlyRank"}})},staticRenderFns:[]};var cs=s("VU/8")(rs,ls,!1,function(t){s("KTyx")},"data-v-7207d08d",null).exports,us={name:"user-rank-card",data:function(){return{rank:0}},created:function(){this.setRank()},methods:{setRank:function(){var t=this;this.$api.get("/worker/"+sessionStorage.getItem("userID")+"/rank",null,function(e){t.rank=e.data})}}},hs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"15px"}},[t._v("用户排名")])]),t._v(" "),s("div",[s("el-row",[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666","font-size":"13px"}},[t._v("月排名")]),t._v(" "),s("p",{staticClass:"big-num"},[t._v(t._s(t.rank))])]),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666","font-size":"17px",margin:"0px"}},[t._v("日排名")]),t._v(" "),s("p",{staticStyle:{"font-size":"40px",margin:"19px"}},[t._v(t._s(t.rank))])]),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666","font-size":"15px"}},[t._v("季度排名")]),t._v(" "),s("p",{staticClass:"big-num"},[t._v(t._s(t.rank))])])],1)],1)])},staticRenderFns:[]};var ds={name:"user-rank-statistic-page",components:{userRankCard:s("VU/8")(us,hs,!1,function(t){s("i48J")},"data-v-abb5a61a",null).exports,dailyRank:os,monthlyRank:cs}},ps={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("user-rank-card")],1)},staticRenderFns:[]};var gs=s("VU/8")(ds,ps,!1,function(t){s("ISNY")},"data-v-6d555ee4",null).exports,ms={name:"daily-finish-task",mounted:function(){var t=s("XLwt").init(document.getElementById("dailyFinishTask")),e=[["2018-04-05",0],["2018-04-06",1],["2018-04-07",5],["2018-04-08",3],["2018-04-09",2],["2018-04-10",4],["2018-04-11",0],["2018-04-12",5],["2018-04-13",10],["2018-04-14",5],["2018-04-15",2],["2018-04-16",8],["2018-04-17",1],["2018-04-18",6],["2018-04-19",12],["2018-04-20",6],["2018-04-21",7],["2018-04-22",4],["2018-04-23",7],["2018-04-24",5]],a={visualMap:{show:!1,type:"continuous",seriesIndex:0,min:0,max:400},title:{left:"center",text:"每日完成任务数",textStyle:{color:"#696969",fontWeight:"lighter"}},tooltip:{trigger:"axis"},xAxis:{data:e.map(function(t){return t[0]})},yAxis:{splitLine:{show:!0}},grid:{bottom:"30%"},textStyle:{color:"#696969",fontWeight:"lighter"},series:{type:"line",lineStyle:{color:"#FF7F50"},showSymbol:!1,data:e.map(function(t){return t[1]})}};t.setOption(a)}},fs={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{height:"400px",width:"1000px",margin:"60px"},attrs:{id:"dailyFinishTask"}})},staticRenderFns:[]};var vs={name:"user-statistic",components:{dailyFinishTask:s("VU/8")(ms,fs,!1,function(t){s("3jg0")},"data-v-38ad4d0d",null).exports,allTaskCard:Pe}},ys={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("all-task-card",{staticClass:"box-card"})],1)},staticRenderFns:[]};var xs=s("VU/8")(vs,ys,!1,function(t){s("/T8J")},"data-v-7c9ed5f6",null).exports,bs=(s("5XiF"),{name:"reward-card",data:function(){return{reward:0,rewardDaily:0}},created:function(){this.setUserInfo()},methods:{setUserInfo:function(){var t=this;this.$api.get("/worker/"+sessionStorage.getItem("userID"),null,function(e){t.reward=parseFloat(Number(e.data.reward).toFixed(3))}),this.$api.get("/worker/"+sessionStorage.getItem("userID")+"/reword",null,function(e){t.rewardDaily=parseFloat(Number(e.data).toFixed(3))})}}}),ks={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"15px"}},[t._v("个人任务报酬")])]),t._v(" "),s("div",[s("el-row",[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[s("span",{staticClass:"icon-icon-test"}),t._v(" "),s("span",{staticStyle:{color:"#666666","font-size":"15px"}},[t._v("   今日到账报酬")]),t._v(" "),s("p",{staticClass:"big-num"},[t._v(t._s(t.rewardDaily)+" ¥")])]),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[s("span",{staticClass:"icon-icon-test"}),t._v(" "),s("span",{staticStyle:{color:"#666666","font-size":"15px"}},[t._v("   总报酬")]),t._v(" "),s("p",{staticClass:"big-num"},[t._v(t._s(t.reward)+" ¥")])])],1)],1)])},staticRenderFns:[]};var _s={name:"daily-reward",data:function(){return{data:[]}},mounted:function(){var t=s("XLwt").init(document.getElementById("dailyReward")),e=[],a=[];this.$api.get("/worker/"+sessionStorage.getItem("userID")+"/rewards",null,function(s){console.log(s.data);for(var i=0;i<s.data.length;i++){var n;n=s.data[i].split(":"),e.push(n[0]),a.push(n[1])}var o={visualMap:{show:!1,type:"continuous",seriesIndex:0,min:0,max:400},title:{left:"center",text:"日报酬变化",textStyle:{color:"#696969",fontWeight:"lighter"}},tooltip:{trigger:"axis"},xAxis:{data:e},yAxis:{splitLine:{show:!0}},grid:{bottom:"30%"},textStyle:{color:"#696969",fontWeight:"lighter"},series:{type:"line",lineStyle:{color:"#FFD700"},showSymbol:!1,data:a}};t.setOption(o)})}},ws={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{height:"400px",width:"1000px",margin:"60px"},attrs:{id:"dailyReward"}})},staticRenderFns:[]};var Is={name:"user-reward-page",components:{rewardCard:s("VU/8")(bs,ks,!1,function(t){s("s6EN")},"data-v-74da7648",null).exports,dailyReward:s("VU/8")(_s,ws,!1,function(t){s("Q3Jb")},"data-v-3dc47704",null).exports}},Ss={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("reward-card"),this._v(" "),e("daily-reward")],1)},staticRenderFns:[]};var As={name:"user-rank-page",components:{myHeader:ut,userTaskStatistic:xs,userStatistic:gs,userReward:s("VU/8")(Is,Ss,!1,function(t){s("vG8z")},"data-v-31bd86f6",null).exports},data:function(){return{showType:"user"}},methods:{showUser:function(){this.showType="user"},showTask:function(){this.showType="task"},showReward:function(){this.showType="reward"}}},Cs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("my-header"),t._v(" "),s("div",{staticStyle:{height:"5px"}}),t._v(" "),s("el-row",[s("el-col",{attrs:{span:4}},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"}},[s("el-menu-item",{attrs:{index:"1"},on:{click:t.showUser}},[s("i",{staticClass:"el-icon-menu"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("个人排名")])]),t._v(" "),s("el-menu-item",{attrs:{index:"2"},on:{click:t.showTask}},[s("i",{staticClass:"el-icon-menu"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("任务完成情况")])]),t._v(" "),s("el-menu-item",{attrs:{index:"3"},on:{click:t.showReward}},[s("i",{staticClass:"el-icon-menu"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("任务报酬")])])],1)],1),t._v(" "),s("el-col",{attrs:{span:20}},["user"===t.showType?s("user-statistic"):t._e(),t._v(" "),"task"===t.showType?s("user-task-statistic"):t._e(),t._v(" "),"reward"===t.showType?s("user-reward"):t._e()],1)],1)],1)},staticRenderFns:[]};var Ts=s("VU/8")(As,Cs,!1,function(t){s("rAks")},"data-v-4e5a7135",null).exports,Es=s("lpOu"),Ls=s("oXIA"),zs=s("3Q1+"),Bs={name:"ElPopover",mixins:[Es.a],props:{trigger:{type:String,default:"click",validator:function(t){return["click","focus","hover","manual"].indexOf(t)>-1}},openDelay:{type:Number,default:0},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"}},computed:{tooltipId:function(){return"el-popover-"+Object(zs.a)()}},watch:{showPopper:function(t){t?this.$emit("show"):this.$emit("hide")}},mounted:function(){var t=this,e=this.referenceElm=this.reference||this.$refs.reference,s=this.popper||this.$refs.popper;if(!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),e&&(Object(Ls.a)(e,"el-popover__reference"),e.setAttribute("aria-describedby",this.tooltipId),e.setAttribute("tabindex",0),s.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(Ls.d)(e,"focusin",function(){t.handleFocus();var s=e.__vue__;s&&s.focus&&s.focus()}),Object(Ls.d)(s,"focusin",this.handleFocus),Object(Ls.d)(e,"focusout",this.handleBlur),Object(Ls.d)(s,"focusout",this.handleBlur)),Object(Ls.d)(e,"keydown",this.handleKeydown),Object(Ls.d)(e,"click",this.handleClick)),"click"===this.trigger)Object(Ls.d)(e,"click",this.doToggle),Object(Ls.d)(document,"click",this.handleDocumentClick);else if("hover"===this.trigger)Object(Ls.d)(e,"mouseenter",this.handleMouseEnter),Object(Ls.d)(s,"mouseenter",this.handleMouseEnter),Object(Ls.d)(e,"mouseleave",this.handleMouseLeave),Object(Ls.d)(s,"mouseleave",this.handleMouseLeave);else if("focus"===this.trigger){var a=!1;if([].slice.call(e.children).length)for(var i=e.childNodes,n=i.length,o=0;o<n;o++)if("INPUT"===i[o].nodeName||"TEXTAREA"===i[o].nodeName){Object(Ls.d)(i[o],"focusin",this.doShow),Object(Ls.d)(i[o],"focusout",this.doClose),a=!0;break}if(a)return;"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?(Object(Ls.d)(e,"focusin",this.doShow),Object(Ls.d)(e,"focusout",this.doClose)):(Object(Ls.d)(e,"mousedown",this.doShow),Object(Ls.d)(e,"mouseup",this.doClose))}},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(Ls.a)(this.referenceElm,"focusing"),"manual"!==this.trigger&&(this.showPopper=!0)},handleClick:function(){Object(Ls.e)(this.referenceElm,"focusing")},handleBlur:function(){Object(Ls.e)(this.referenceElm,"focusing"),"manual"!==this.trigger&&(this.showPopper=!1)},handleMouseEnter:function(){var t=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){t.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(t){27===t.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var t=this;clearTimeout(this._timer),this._timer=setTimeout(function(){t.showPopper=!1},200)},handleDocumentClick:function(t){var e=this.reference||this.$refs.reference,s=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),this.$el&&e&&!this.$el.contains(t.target)&&!e.contains(t.target)&&s&&!s.contains(t.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()}},destroyed:function(){var t=this.reference;Object(Ls.c)(t,"click",this.doToggle),Object(Ls.c)(t,"mouseup",this.doClose),Object(Ls.c)(t,"mousedown",this.doShow),Object(Ls.c)(t,"focusin",this.doShow),Object(Ls.c)(t,"focusout",this.doClose),Object(Ls.c)(t,"mouseleave",this.handleMouseLeave),Object(Ls.c)(t,"mouseenter",this.handleMouseEnter),Object(Ls.c)(document,"click",this.handleDocumentClick)}},Rs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("transition",{attrs:{name:t.transition},on:{"after-enter":t.handleAfterEnter,"after-leave":t.handleAfterLeave}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&t.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[t.popperClass,t.content&&"el-popover--plain"],style:{width:t.width+"px"},attrs:{role:"tooltip",id:t.tooltipId,"aria-hidden":t.disabled||!t.showPopper?"true":"false"}},[t.title?s("div",{staticClass:"el-popover__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),t._t("default",[t._v(t._s(t.content))])],2)]),t._v(" "),t._t("reference")],2)},staticRenderFns:[]},Ds={components:{ElPopover:s("VU/8")(Bs,Rs,!1,null,null,null).exports},name:"task-info-setting",data:function(){return{form:{taskName:"",taskType:"",requesterId:sessionStorage.getItem("userID"),description:"",attributes:[],partTimes:0,assignTimes:0,assignmentReward:0,unitLimitMinutes:0},formData:new FormData,options:[{value:"CLASSIFICATION",label:"局部分类标注任务"},{value:"DETECTION",label:"检测任务"},{value:"SEGMENTATION",label:"区域划分任务"}],detectionInputVisible:!1,detectionTagVisible:!1,detectionTags:[],detectionTag:{name:"",colorHex:""},segmentationInput:"",segmentationColorPic:"#FF9C40",segmentationNotAddable:!0,segmentationTags:[],segmentationTag:{name:"",colorHex:""},classificationTags:[],classificationInput:"",classificationNotAddable:!0,classificationInputVisible:!1,classificationChild:"",isInputVisible:!1}},methods:{addNewTag:function(){"CLASSIFICATION"==this.form.taskType?this.classificationNotAddable=!1:"SEGMENTATION"==this.form.taskType?this.segmentationNotAddable=!1:"DETECTION"==this.form.taskType&&(this.detectionInputVisible=!0)},detectionHandleInput:function(){if(""!==this.detectionTag){this.detectionInputVisible=!1,this.detectionTagVisible=!0;var t=u()({},this.detectionTag);this.detectionTags.push(t),this.detectionTag.name=""}},detectionTagClose:function(t){this.detectionTags.splice(this.detectionTags.indexOf(t),1)},segmentationTagClose:function(t){this.segmentationTags.splice(this.segmentationTags.indexOf(t),1),console.log(this.segmentationTags)},segmentationTagConfirm:function(){this.segmentationNotAddable=!0,this.segmentationTag.name=this.segmentationInput,this.segmentationTag.colorHex=this.segmentationColorPic;var t=u()({},this.segmentationTag);this.segmentationTags.push(t),this.segmentationTag.name="",this.segmentationTag.colorHex="",this.segmentationInput="",this.segmentationColorPic="#FF9C40",console.log(this.segmentationTags)},classificationTagConfirm:function(){this.classificationNotAddable=!0;var t={inputVisible:!1};t.name=this.classificationInput,t.children=[],this.classificationTags.push(t),this.classificationInput=""},append:function(t,e){console.log(t.level),e.inputVisible=!0,console.log(e.name+":"+e.inputVisible);var s={inputVisible:!1};s.name=this.classificationChild,s.children=[],e.children.push(s),this.classificationChild="",this.isInputVisible=!1},modifyAppendStatus:function(t){t.inputVisible=!1,console.log(t.name+":"+t.inputVisible)},remove:function(t,e){if(1===t.level){console.log(t.parent);var s=t.parent.data;console.log(s.length);var a=s.findIndex(function(t){return t.name===e.name});s.splice(a,1)}else if(2===t.level){var i=t.parent.data.children,n=i.findIndex(function(t){return t.name===e.name});i.splice(n,1)}},classificationChildAdd:function(t,e){var s=t.parent.data.children,a=s.findIndex(function(t){return""===t.name});s[a].inputVisible=!1,s[a].name=this.classificationChild,this.classificationChild=""},submitFile:function(t){this.formData.append("file",t.file)},judgeIsZip:function(t){var e="zip"===t.name.substring(t.name.lastIndexOf(".")+1);return e||this.$message({message:"上传文件夹只能是zip格式！",type:"warning"}),e},submitTask:function(){var t=this;if(console.log(this.formData.get("file")),null!=this.formData.get("file")&&null!=this.formData.get("task"))this.$message({message:"后台正在处理",type:"info"});else{var e={},s=[],a={};switch(this.form.taskType){case"CLASSIFICATION":console.log(this.classificationTags);for(var i=0;i<this.classificationTags.length;i++){s=[],e.name=this.classificationTags[i].name;for(var n=0;n<this.classificationTags[i].children.length;n++){a.name=this.classificationTags[i].children[n].name,a.colorHex="";var o=u()({},a);s.push(o)}e.tags=s;var r=u()({},e);this.form.attributes.push(r)}console.log(l()(this.form.attributes));break;case"DETECTION":e.name=this.form.taskName,e.tags=this.detectionTags,this.form.attributes.push(e);break;case"SEGMENTATION":e.name=this.form.taskName,e.tags=this.segmentationTags,this.form.attributes.push(e)}this.form.assignmentReward=parseFloat(this.form.assignmentReward.toString()).toFixed(2),this.form.assignTimes=parseFloat(this.form.assignTimes.toString()).toFixed(2),this.formData.append("task",l()(this.form)),console.log(this.form),this.$api.post("/task/create",this.formData,function(e){"SUCCESS"===e.data&&(t.$router.push("/taskCenter"),t.$message({type:"success",message:"发布成功!"}))})}}}},Fs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{height:"800px",overflow:"scroll"}},[s("el-form",{ref:"form",staticStyle:{"padding-left":"130px","padding-top":"10px"},attrs:{model:t.form,"label-position":"left","label-width":"120px"}},[s("el-form-item",{attrs:{label:"任务标题"}},[s("el-input",{staticStyle:{width:"400px"},attrs:{size:"small"},model:{value:t.form.taskName,callback:function(e){t.$set(t.form,"taskName",e)},expression:"form.taskName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"任务描述"}},[s("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",placeholder:"请输入内容",rows:5},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"任务类型"}},[s("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择"},model:{value:t.form.taskType,callback:function(e){t.$set(t.form,"taskType",e)},expression:"form.taskType"}},t._l(t.options,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),s("el-form-item",{attrs:{label:"编辑属性和标签"}},[s("el-button",{staticStyle:{border:"none"},on:{click:t.addNewTag}},[s("a",{staticClass:"el-icon-circle-plus"},[t._v("增加标签")])]),t._v(" "),"SEGMENTATION"===t.form.taskType?s("div",{staticClass:"block",staticStyle:{width:"400px"},attrs:{id:"segmentation"}},[s("div",{staticStyle:{height:"50px"},attrs:{id:"inputArea"}},[s("el-col",{attrs:{span:14}},[s("el-input",{attrs:{disabled:t.segmentationNotAddable,size:"small"},model:{value:t.segmentationInput,callback:function(e){t.segmentationInput=e},expression:"segmentationInput"}})],1),t._v(" "),s("el-col",{staticStyle:{"padding-left":"8px"},attrs:{span:2}},[s("p")]),t._v(" "),s("el-col",{attrs:{span:2}},[s("el-color-picker",{staticStyle:{"padding-top":"3px"},attrs:{disabled:t.segmentationNotAddable,size:"small"},model:{value:t.segmentationColorPic,callback:function(e){t.segmentationColorPic=e},expression:"segmentationColorPic"}})],1),t._v(" "),s("el-col",{staticStyle:{"padding-left":"8px"},attrs:{span:2}},[s("p")]),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-button",{staticStyle:{float:"right","margin-top":"3px"},attrs:{disabled:t.segmentationNotAddable,size:"small",plain:"",type:"warning"},on:{click:t.segmentationTagConfirm}},[t._v("确认")])],1)],1),t._v(" "),s("div",{staticStyle:{"min-height":"50px",border:"lightgray 1px solid","border-radius":"2px 2px 2px 2px"},attrs:{id:"tagArea"}},t._l(t.segmentationTags,function(e){return s("el-tag",{key:e.name,staticStyle:{"margin-left":"2px"},style:{color:e.colorHex},attrs:{closable:""},on:{close:function(s){t.segmentationTagClose(e)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))]):t._e(),t._v(" "),"CLASSIFICATION"===t.form.taskType?s("div",{staticClass:"block",staticStyle:{width:"400px"},attrs:{id:"classification"}},[s("div",{staticStyle:{height:"50px"},attrs:{id:"addArea"}},[s("el-col",{attrs:{span:18}},[s("el-input",{attrs:{disabled:t.classificationNotAddable,size:"small"},model:{value:t.classificationInput,callback:function(e){t.classificationInput=e},expression:"classificationInput"}})],1),t._v(" "),s("el-col",{staticStyle:{"padding-left":"6px"},attrs:{span:2}},[s("p")]),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-button",{staticStyle:{float:"right","margin-top":"3px"},attrs:{disabled:t.classificationNotAddable,size:"small",plain:"",type:"warning"},on:{click:t.classificationTagConfirm}},[t._v("确认")])],1)],1),t._v(" "),s("div",{staticStyle:{"min-height":"100px",border:"lightgray 1px solid","border-radius":"2px 2px 2px 2px"},attrs:{id:"treeArea"}},[s("el-tree",{attrs:{data:t.classificationTags,"node-key":"name","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,i=e.data;return s("span",{staticClass:"custom-tree-node"},[1===a.level?s("span",[t._v(t._s(i.name))]):t._e(),t._v(" "),i.inputVisible||2!==a.level?t._e():s("span",[t._v("\n              "+t._s(i.name)+"\n            ")]),t._v(" "),s("span",[1===a.level?s("el-popover",{attrs:{trigger:"click",placement:"top"}},[s("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.append(a,i)}},model:{value:t.classificationChild,callback:function(e){t.classificationChild=e},expression:"classificationChild"}}),t._v(" "),1===a.level?s("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[t._v("\n                 Append\n               ")]):t._e()],1):t._e(),t._v(" "),s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.remove(a,i)}}},[t._v("\n                Delete\n              ")])],1)])}}])})],1)]):t._e(),t._v(" "),"DETECTION"===t.form.taskType?s("div",{staticClass:"block",attrs:{id:"detection"}},[t.detectionInputVisible?s("el-input",{staticStyle:{width:"200px"},attrs:{size:"small"},on:{blur:t.detectionHandleInput},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.detectionHandleInput(e):null}},model:{value:t.detectionTag.name,callback:function(e){t.$set(t.detectionTag,"name",e)},expression:"detectionTag.name"}}):t._e(),t._v(" "),t._l(t.detectionTags,function(e){return t.detectionTagVisible?s("el-tag",{key:e.name,staticStyle:{"margin-left":"2px"},attrs:{closable:""},on:{close:function(s){t.detectionTagClose(e)}}},[t._v(t._s(e.name))]):t._e()})],2):t._e()],1),t._v(" "),s("el-form-item",{attrs:{label:"图片集"}},[s("el-upload",{attrs:{drag:"",action:"","before-upload":t.judgeIsZip,"http-request":t.submitFile,limit:1}},[s("i",{staticClass:"el-icon-upload"}),t._v(" "),s("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),s("em",[t._v("点击上传")])]),t._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传zip文件夹")])])],1),t._v(" "),s("el-form-item",{attrs:{label:"子任务个数"}},[s("el-input-number",{attrs:{min:1,size:"small"},model:{value:t.form.partTimes,callback:function(e){t.$set(t.form,"partTimes",e)},expression:"form.partTimes"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"需要份数"}},[s("el-input-number",{attrs:{min:1,size:"small"},model:{value:t.form.assignTimes,callback:function(e){t.$set(t.form,"assignTimes",e)},expression:"form.assignTimes"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"单份奖金"}},[s("el-input-number",{attrs:{step:.01,min:0,size:"small"},model:{value:t.form.assignmentReward,callback:function(e){t.$set(t.form,"assignmentReward",e)},expression:"form.assignmentReward"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"单元限制时间"}},[s("el-input-number",{attrs:{step:.01,min:0,size:"small"},model:{value:t.form.unitLimitMinutes,callback:function(e){t.$set(t.form,"unitLimitMinutes",e)},expression:"form.unitLimitMinutes"}})],1)],1),t._v(" "),s("el-button",{staticStyle:{"margin-left":"250px","margin-top":"10px"},attrs:{type:"success"},on:{click:t.submitTask}},[t._v("发布任务")])],1)},staticRenderFns:[]};var Ns=s("VU/8")(Ds,Fs,!1,function(t){s("erYp")},null,null).exports,Us={name:"release-config",components:{ElContainer:p,ElRow:s("DoGJ").a,taskInfoSetting:Ns},data:function(){return{routeTo:""}},methods:{setTaskInfo:function(){this.routeTo="taskInfo"},setTaskGuide:function(){this.routeTo="taskGuide"},setTaskRequest:function(){this.routeTo="taskRequest"},setTaskAward:function(){this.routeTo="taskAward"}}},$s={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("div",{staticStyle:{height:"5px"}}),t._v(" "),s("el-row",[s("el-col",{attrs:{span:4}},[s("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"800px"},attrs:{"default-active":"1"}},[s("el-submenu",{attrs:{index:"1"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-setting"}),t._v(" "),s("span",[t._v("任务")])]),t._v(" "),s("el-menu-item",{attrs:{index:"1-1"},on:{click:t.setTaskInfo}},[t._v("任务信息")])],2),t._v(" "),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-info"}),t._v(" "),s("span",[t._v("指引")])]),t._v(" "),s("el-menu-item",{attrs:{index:"2-1"},on:{click:t.setTaskGuide}},[t._v("任务指引")]),t._v(" "),s("el-menu-item",{attrs:{index:"2-2"},on:{click:t.setTaskRequest}},[t._v("工作者要求")])],2),t._v(" "),s("el-submenu",{attrs:{index:"3"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-tickets"}),t._v(" "),s("span",[t._v("规则")])]),t._v(" "),s("el-menu-item",{attrs:{index:"3-1"},on:{click:t.setTaskAward}},[t._v("奖励规则")])],2)],1)],1),t._v(" "),s("el-col",{attrs:{span:20}},["taskInfo"===t.routeTo?s("task-info-setting"):t._e()],1)],1)],1)])},staticRenderFns:[]};var Ms=s("VU/8")(Us,$s,!1,function(t){s("aRyK")},null,null).exports,Ps={name:"task-config",components:{manage_header:ut,ElContainer:p,ElMain:m,ElHeader:it,release_config:Ms},data:function(){return{}},methods:{submitFile:function(t){var e=new FormData;e.append("file",t.file),this.$api.post("/tasks/upload",e)}}},Os={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-header",{staticStyle:{padding:"0px",margin:"0px"}},[e("manage_header")],1),this._v(" "),e("el-main",{staticStyle:{padding:"0px",margin:"0px"}},[e("release_config")],1)],1)},staticRenderFns:[]};var Hs=s("VU/8")(Ps,Os,!1,function(t){s("bYgI")},"data-v-34b652df",null).exports,Qs={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",{staticClass:"headerBackground"},[e("el-col",{attrs:{span:4}},[e("div",{staticStyle:{"padding-top":"10px","padding-left":"20px"}},[e("span",{staticStyle:{color:"coral","font-size":"20px"}},[this._v("NJU ")]),this._v(" "),e("span",{staticStyle:{color:"dimgray","font-size":"20px"}},[this._v("bazinga turk")])])]),this._v(" "),e("el-col",{attrs:{span:19}},[e("p")])],1),this._v(" "),e("div",{staticClass:"line"})],1)},staticRenderFns:[]};var qs=s("VU/8")({name:"admin-page-header"},Qs,!1,function(t){s("E9K9")},"data-v-586bbbc8",null).exports,Vs={name:"all-user-info-card",data:function(){return{reqLength:0,workerLength:0,allUserLength:0}},created:function(){this.setReqListLength(),this.setWorkerListLength()},methods:{setReqListLength:function(){var t=this;this.$api.get("/admin/requesters",null,function(e){t.reqLength=e.data.length,t.allUserLength+=e.data.length})},setWorkerListLength:function(){var t=this;this.$api.get("/admin/workers",null,function(e){t.workerLength=e.data.length,t.allUserLength+=e.data.length})},checkUser:function(t){sessionStorage.setItem("user",t),this.$router.push("/userManagePage")}}},js={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"18px"}},[t._v("用户整体情况")])]),t._v(" "),s("div",[s("el-row",[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666"}},[t._v("发布者人数")]),t._v(" "),s("el-button",{staticClass:"big-num",attrs:{type:"text"},on:{click:function(e){t.checkUser("requester")}}},[t._v(t._s(t.reqLength))])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666"}},[t._v("工作者人数")]),t._v(" "),s("el-button",{staticClass:"big-num",attrs:{type:"text"},on:{click:function(e){t.checkUser("worker")}}},[t._v(t._s(t.workerLength))])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666"}},[t._v("总用户数")]),t._v(" "),s("el-button",{staticClass:"big-num",attrs:{type:"text"},on:{click:function(e){t.checkUser("allUsers")}}},[t._v(t._s(t.allUserLength))])],1)],1)],1)])},staticRenderFns:[]};var Js={components:{ElButton:P},name:"all-task-info-card",data:function(){return{ongoingTask:0,finishedTask:0,allTask:0}},created:function(){this.setOngoingTask(),this.setFinishedTask()},methods:{setOngoingTask:function(){var t=this;this.$api.get("/admin/tasks/ongoing",null,function(e){console.log(e.data),t.ongoingTask=e.data.length,t.allTask+=t.ongoingTask})},setFinishedTask:function(){var t=this;this.$api.get("/admin/tasks/finished",null,function(e){t.finishedTask=e.data.length,t.allTask+=t.finishedTask})},checkTask:function(t){sessionStorage.setItem("task",t),this.$router.push("/taskManagePage")}}},Ws={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"18px"}},[t._v("任务整体情况")])]),t._v(" "),s("div",[s("el-row",[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666"}},[t._v("进行中任务数")]),t._v(" "),s("el-button",{staticClass:"big-num",attrs:{type:"text"},on:{click:function(e){t.checkTask("ongoingTask")}}},[t._v(t._s(t.ongoingTask))])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666"}},[t._v("已完成任务数")]),t._v(" "),s("el-button",{staticClass:"big-num",attrs:{type:"text"},on:{click:function(e){t.checkTask("finishedTask")}}},[t._v(t._s(t.finishedTask))])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("p",{staticStyle:{color:"#666666"}},[t._v("所有任务数")]),t._v(" "),s("el-button",{staticClass:"big-num",attrs:{type:"text"},on:{click:function(e){t.checkTask("allTasks")}}},[t._v(t._s(t.allTask))])],1)],1)],1)])},staticRenderFns:[]};var Ys={name:"home",components:{allUser:s("VU/8")(Vs,js,!1,function(t){s("oZm0")},"data-v-b6ebfe86",null).exports,allTask:s("VU/8")(Js,Ws,!1,function(t){s("y293")},"data-v-4f00a2ec",null).exports}},Zs={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("all-user"),this._v(" "),e("all-task")],1)},staticRenderFns:[]};var Gs=s("VU/8")(Ys,Zs,!1,function(t){s("zMMG")},"data-v-27cd10da",null).exports,Xs={components:{ElButton:P},name:"user-list",data:function(){return{Users:[]}},props:["role"],created:function(){"发布者"===this.role?this.getRequesterList():this.getWorkerList()},methods:{getRequesterList:function(){var t=this;this.$api.get("/admin/requesters",null,function(e){t.Users=e.data})},getWorkerList:function(){var t=this;this.$api.get("/admin/workers",null,function(e){t.Users=e.data})}}},Ks={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("ul",{staticStyle:{border:"lightgrey 1px solid",margin:"20px"}},t._l(t.Users,function(e){return s("li",{staticStyle:{display:"block"}},[s("el-row",[s("el-col",{attrs:{span:2}},[s("img",{staticClass:"avatar",attrs:{src:"http://localhost:8080"+e.avatar}})]),t._v(" "),s("el-col",{staticClass:"user-list",attrs:{span:18}},[s("div",{staticStyle:{"margin-top":"15px","font-size":"12px","margin-bottom":"5px"}},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticStyle:{"font-size":"12px",color:"#969896"}},[t._v(t._s(e.username))])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"small",type:"info",plain:""}},[t._v("加入黑名单")])],1)],1),t._v(" "),s("div",{staticClass:"line"})],1)}))])},staticRenderFns:[]};var ta={name:"user-manage",components:{userList:s("VU/8")(Xs,Ks,!1,function(t){s("KcNE")},"data-v-2b3c5124",null).exports},data:function(){return{role:"发布者",user:""}},created:function(){this.user=sessionStorage.getItem("user"),console.log(this.user),"requester"===this.user?this.showReqList():"worker"===this.user?this.role="发布者":this.showReqList()},methods:{showReqList:function(){this.role="发布者"},showWorkerList:function(){console.log("!!!"),this.role="工作者"}}},ea={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{staticStyle:{margin:"50px","font-size":"20px"}},[this._v("用户管理")]),this._v(" "),e("el-tabs",{staticStyle:{margin:"50px","background-color":"white"},attrs:{type:"card"}},[e("el-tab-pane",{attrs:{label:"发布者"},on:{click:this.showReqList}},[e("user-list",{attrs:{role:"发布者"}})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"工作者"},on:{click:this.showWorkerList}},[e("user-list",{attrs:{role:"工作者"}})],1)],1)],1)},staticRenderFns:[]};var sa=s("VU/8")(ta,ea,!1,function(t){s("foOX")},"data-v-3ef0c7dd",null).exports,aa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("ul",{staticStyle:{border:"lightgrey 1px solid",margin:"20px"}},t._l(t.taskList,function(e){return s("li",{staticStyle:{display:"block"}},[s("el-row",{staticStyle:{height:"50px"}},[s("el-col",{attrs:{span:6}},[s("div",{staticStyle:{"margin-top":"15px","font-size":"13px","margin-bottom":"5px"}},[t._v(t._s(e.taskName))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticStyle:{"margin-top":"15px","font-size":"13px","margin-bottom":"5px"}},[t._v(t._s(e.taskType))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticStyle:{"margin-top":"15px","font-size":"13px",color:"#969896","margin-bottom":"5px"}},[t._v(t._s(e.createTime))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",type:"danger",plain:""}},[t._v("详情")]),t._v(" "),s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",type:"success",plain:""}},[t._v("移除")])],1)],1),t._v(" "),s("div",{staticClass:"line"})],1)}))])},staticRenderFns:[]};var ia={name:"task-manage",components:{taskList:s("VU/8")({name:"task-list",data:function(){return{taskList:[]}},props:["state"],created:function(){"进行中"===this.state?this.getOngoingTaskList():this.getFinishedTaskList()},methods:{getOngoingTaskList:function(){var t=this;this.$api.get("/admin/tasks/ongoing",null,function(e){t.taskList=e.data})},getFinishedTaskList:function(){var t=this;this.$api.get("/admin/tasks/finished",null,function(e){t.taskList=e.data})}}},aa,!1,function(t){s("Bx9J")},"data-v-e8795a92",null).exports},data:function(){return{state:"进行中"}},created:function(){this.user=sessionStorage.getItem("task"),"ongoingTask"===this.user?this.showOngoing():"finishedTask"===this.user?this.showFinished():this.showReqList()},methods:{showOngoing:function(){this.state="进行中"},showFinished:function(){this.state="已完成"}}},na={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{staticStyle:{margin:"50px","font-size":"20px"}},[this._v("任务管理")]),this._v(" "),e("el-tabs",{staticStyle:{margin:"50px","background-color":"white"},attrs:{type:"card"}},[e("el-tab-pane",{attrs:{label:"进行中"},on:{click:this.showOngoing}},[e("task-list",{attrs:{state:"进行中"}})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"已完成"},on:{click:this.showFinished}},[e("task-list",{attrs:{state:"已完成"}})],1)],1)],1)},staticRenderFns:[]};var oa={name:"main-navi",components:{home:Gs,userManage:sa,taskManage:s("VU/8")(ia,na,!1,function(t){s("9CT6")},"data-v-47de5bc8",null).exports},data:function(){return{naviTo:"home"}},props:["type"],created:function(){this.naviTo=this.type},methods:{showHome:function(){this.$router.push("/adminPage")},showUserManage:function(){this.$router.push("/userManagePage")},showTaskManage:function(){this.$router.push("/taskManagePage")}}},ra={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",{staticClass:"tac"},[s("el-col",{attrs:{span:4}},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"}},[s("el-menu-item",{attrs:{index:"1"},on:{click:t.showHome}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-view"}),t._v(" "),s("span",[t._v("首页")]),t._v(" "),s("div",{staticClass:"line"})])],2),t._v(" "),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-menu"}),t._v(" "),s("span",[t._v("管理")])]),t._v(" "),s("el-menu-item",{attrs:{index:"2-1"},on:{click:t.showUserManage}},[t._v("用户管理")]),t._v(" "),s("el-menu-item",{attrs:{index:"2-2"},on:{click:t.showTaskManage}},[t._v("任务管理")])],2)],1)],1),t._v(" "),s("el-col",{attrs:{span:20}},["home"===t.naviTo?s("home"):t._e(),t._v(" "),"userManage"===t.naviTo?s("user-manage"):t._e(),t._v(" "),"taskManage"===t.naviTo?s("task-manage"):t._e()],1)],1)],1)},staticRenderFns:[]};var la=s("VU/8")(oa,ra,!1,function(t){s("BFdZ")},"data-v-6573f273",null).exports,ca={components:{adminHeader:qs,mainNavi:la},name:"admin-main-pages"},ua={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("admin-header"),this._v(" "),e("main-navi",{attrs:{type:"home"}})],1)},staticRenderFns:[]};var ha=s("VU/8")(ca,ua,!1,function(t){s("cr6s")},"data-v-63adc80f",null).exports,da={components:{adminHeader:qs,mainNavi:la},name:"user-manage-pages"},pa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("admin-header"),this._v(" "),e("main-navi",{attrs:{type:"userManage"}})],1)},staticRenderFns:[]};var ga=s("VU/8")(da,pa,!1,function(t){s("CkKK")},"data-v-f8ab16ec",null).exports,ma={components:{adminHeader:qs,mainNavi:la},name:"task-manage-pages"},fa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("admin-header"),this._v(" "),e("main-navi",{attrs:{type:"taskManage"}})],1)},staticRenderFns:[]};var va=s("VU/8")(ma,fa,!1,function(t){s("/i/n")},"data-v-7d41f3c8",null).exports,ya={name:"task-main-page",components:{taskLobby:Ee,taskManage:pt,myHeader:ut,requesterTaskManage:kt,taskDone:Ct,requesterTaskDone:Rt,taskConfig:Ms},data:function(){return{taskPage:"taskLobby"}},methods:{showTaskManage:function(){this.taskPage="taskManage"},showTaskLobby:function(){this.taskPage="taskLobby"},showRequesterTaskManage:function(){this.taskPage="requesterTaskManage"},showTaskDone:function(){this.taskPage="taskDone"},showRequesterTaskDone:function(){this.taskPage="requesterTaskDone"},showTaskConfig:function(){this.taskPage="taskConfig"}}},xa={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("my-header",{on:{showRequesterTaskManage:t.showRequesterTaskManage,showTaskManage:t.showTaskManage,showRequesterTaskDone:t.showRequesterTaskDone,showTaskDone:t.showTaskDone,showTaskLobby:t.showTaskLobby,showTaskConfig:t.showTaskConfig}}),t._v(" "),"taskManage"===t.taskPage?s("task-manage"):t._e(),t._v(" "),"taskLobby"===t.taskPage?s("task-lobby"):t._e(),t._v(" "),"requesterTaskManage"===t.taskPage?s("requester-task-manage"):t._e(),t._v(" "),"taskDone"===t.taskPage?s("task-done"):t._e(),t._v(" "),"requesterTaskDone"===t.taskPage?s("requester-task-done"):t._e(),t._v(" "),"taskConfig"===t.taskPage?s("task-config"):t._e()],1)},staticRenderFns:[]};var ba=s("VU/8")(ya,xa,!1,function(t){s("H6cR")},"data-v-39892365",null).exports,ka={name:"task-partition-list",components:{ElContainer:p,ElMain:m,ElHeader:it,manage_header:ut},data:function(){return{taskId:"",taskType:"",partitionList:[],assignmentList:[],partitionId:"",assignTimes:0}},created:function(){this.taskId=this.$route.params.taskId,this.getPartitionList(this.taskId)},methods:{no:function(t){return t+""},getPartitionList:function(t){var e=this;this.$api.get("task/"+t+"/partitions",null,function(s){e.$api.get("task/"+t+"/brief",null,function(t){e.partitionList=s.data,e.assignTimes=t.data.assignTimes,e.taskType=t.data.taskType})})},showPartition:function(t){var e=this;this.assignmentList=[];for(var s=function(s){var a=u()({},t.assignmentVOs[s]);e.$api.get("user/"+a.workerId,null,function(s){a.low=t.low,a.high=t.high,a.userName=s.data.username,a.accuracy=0,e.assignmentList.push(a),e.partitionId=t.partitionId,console.log(e.assignmentList)})},a=0;a<t.assignmentVOs.length;a++)s(a)},approve:function(t){var e=this;this.$api.get("/assignment/"+t+"/approve",null,function(t){e.$message({type:"success",message:"通过成功"})})},reject:function(t,e){var s=this;this.$api.get("/assignment/"+t+"/reject",null,function(t){s.$message({type:"success",message:"拒绝成功"})})},integrate:function(){var t=this,e=this;""===this.partitionId?this.$message({type:"danger",message:"请先选择分组！"}):this.$api.get("task/"+this.taskId+"/"+this.partitionId+"/"+this.taskType+"/integration",null,function(s){"SUCCESS"===s.data&&(t.$message({type:"success",message:"整合成功"}),e.setAccuracy())})},setAccuracy:function(){for(var t=this,e=function(e){t.$api.get("/assignment/"+t.assignmentList[e].assignmentId,null,function(s){t.assignmentList[e].accuracy=parseFloat(Number(s.data.accuracy).toFixed(2))})},s=0;s<this.assignmentList.length;s++)e(s)}}},_a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("manage_header"),t._v(" "),s("div",{staticStyle:{height:"5px"}}),t._v(" "),s("el-row",[s("el-col",{attrs:{span:4}},[s("el-menu",{staticStyle:{height:"800px"}},[t._l(t.partitionList,function(e){return[s("el-menu-item",{attrs:{index:t.no(e.no)},on:{click:function(s){t.showPartition(e)}}},[s("i",{staticClass:"el-icon-menu"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("分组"+t._s(e.no))])])]})],2)],1),t._v(" "),s("el-col",{staticStyle:{"padding-left":"10px","padding-right":"10px","padding-top":"10px","text-align":"center"},attrs:{span:20}},[s("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.assignmentList,stripe:""}},[s("el-table-column",{attrs:{prop:"userName",label:"参与工人",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{prop:"low",label:"开始图片序号",width:"110"}}),t._v(" "),s("el-table-column",{attrs:{prop:"high",label:"结束图片序号",width:"110"}}),t._v(" "),s("el-table-column",{attrs:{prop:"size",label:"任务图片张数",width:"110"}}),t._v(" "),s("el-table-column",{attrs:{prop:"progress",label:"进度",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"deadline",label:"截止时间",width:"200"}}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"任务状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["ONGOING"===e.row.status?s("el-tag",{attrs:{type:"info",size:"medium"}},[t._v("进行中")]):t._e(),t._v(" "),"CHECKING"===e.row.status?s("el-tag",{attrs:{type:"warning",size:"medium"}},[t._v("待审核")]):t._e(),t._v(" "),"APPROVED"===e.row.status?s("el-tag",{attrs:{type:"success",size:"medium"}},[t._v("已通过")]):t._e(),t._v(" "),"REJECTED"===e.row.status?s("el-tag",{attrs:{type:"danger",size:"medium"}},[t._v("已拒绝")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"审核操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return["CHECKING"===e.row.status?s("el-button",{attrs:{plain:"",type:"danger",size:"mini"},on:{click:function(s){t.reject(e.row.assignmentId,e.row.index)}}},[t._v("拒绝")]):t._e(),t._v(" "),"CHECKING"===e.row.status?s("el-button",{attrs:{plain:"",type:"success",size:"mini"},on:{click:function(s){t.approve(e.row.assignmentId,e.row.index)}}},[t._v("通过")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"accuracy",label:"准确率",width:"100"}})],1),t._v(" "),t.assignmentList.length===t.assignTimes?s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"success",plain:""},on:{click:t.integrate}},[t._v("答案整合")]):t._e()],1)],1)],1)},staticRenderFns:[]};var wa=s("VU/8")(ka,_a,!1,function(t){s("B9BQ")},null,null).exports;a.default.use(o.a);var Ia=new o.a({routes:[{path:"/",component:qt,meta:{title:"Bazinga Turk"}},{path:"/workerLogin",component:Zt,meta:{title:"工作者登录 | Bazinga Turk"}},{path:"/requesterLogin",component:Kt,meta:{title:"发起者登录 | Bazinga Turk"}},{path:"/workerSignIn",component:fe,meta:{title:"工作者注册 | Bazinga Turk"}},{path:"/requesterSignIn",component:xe,meta:{title:"发起者注册 | Bazinga Turk"}},{path:"/signUpSuccess",component:_e},{path:"/signFail",component:Ie},{path:"/activation",component:Ae},{path:"/resetPass",component:se},{path:"/resetPassFail",component:ie},{path:"/resetPassEmail",component:re},{path:"/admin",component:ue,meta:{title:"管理员登录 | Bazinga Turk"}},{path:"/taskManage",name:"taskManage",component:yt,meta:{title:"管理员登录 | Bazinga Turk"}},{path:"/requesterTaskManage",component:It,meta:{title:"任务中心 | Bazinga Turk"}},{path:"/taskDone",component:Lt,meta:{title:"任务中心 | Bazinga Turk"}},{path:"/requesterTaskDone",component:Nt,meta:{title:"任务中心 | Bazinga Turk"}},{path:"/taskCenter",name:"taskCenter",component:ba,meta:{title:"任务中心 | Bazinga Turk"}},{path:"/segment/:state/:taskId/:assignmentId/:workerId",component:X,name:"segPage"},{path:"/segmentCheck/:taskId/:assignmentId/:workerId",component:rt},{path:"/partClassification/:state/:taskId/:assignmentId/:workerId",component:w},{path:"/wholeClassification/:id",component:A},{path:"/partClassificationDoneCheck/:taskId/:assignmentId/:workerId",component:E},{path:"/detection/:state/:taskId/:assignmentId/:workerId",component:B},{path:"/detectionDoneCheck/:taskId/:assignmentId/:workerId",component:F},{path:"/taskLobby/:id",component:Ue,meta:{title:"任务指引 | Bazinga Turk"}},{path:"/taskPartition/:taskId",component:wa},{path:"/userCenter",component:Ze,meta:{title:"个人中心 | Bazinga Turk"}},{path:"/userInfo",component:as,meta:{title:"个人资料 | Bazinga Turk"}},{path:"/userRank",component:Ts,meta:{title:"个人排名 | Bazinga Turk"}},{path:"/upload",component:Hs,meta:{title:"任务发布 | Bazinga Turk"}},{path:"/adminPage",component:ha,meta:{title:"系统管理 | Bazinga Turk"}},{path:"/userManagePage",component:ga,meta:{title:"系统管理 | Bazinga Turk"}},{path:"/taskManagePage",component:va,meta:{title:"系统管理 | Bazinga Turk"}}]}),Sa=s("zL8q"),Aa=s.n(Sa),Ca=(s("EmtQ"),s("aDOS"),s("tvR6"),s("9dnO"),s("mtWM")),Ta=s.n(Ca),Ea="/",La=s("mtWM");function za(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Ba(t,e,s,a,i){var n,o;s&&(s=function t(e){for(var s in e)null===e[s]&&delete e[s],"string"===za(e[s])?e[s]=e[s].trim():"object"===za(e[s])?e[s]=t(e[s]):"array"===za(e[s])&&(e[s]=t(e[s]));return e}(s),"POST"===t||"PUT"===t?(n=s,o=null):"GET"!==t&&"DELETE"!==t||(n=null,o=s)),La({method:t,url:e,data:n,params:o,baseURL:Ea,withCredentials:!1}).then(function(t){!0===t.data.success?a&&a(t.data):i?i(t.data):window.alert("error: "+l()(t.data))}).catch(function(t){var e=t.response;t&&window.alert("api error, HTTP CODE: "+e.status)})}var Ra={get:function(t,e,s,a){return Ba("GET",t,e,s,a)},post:function(t,e,s,a){return Ba("POST",t,e,s,a)},put:function(t,e,s,a){return Ba("PUT",t,e,s,a)},delete:function(t,e,s,a){return Ba("DELETE",t,e,s,a)}},Da={goodTime:function(t){var e=(new Date).getTime()-new Date(t).getTime(),s=e/31104e6,a=e/2592e6,i=e/6048e5,n=e/864e5,o=e/36e5,r=e/6e4;return s>=1?"发表于 "+~~s+" 年前":a>=1?"发表于 "+~~a+" 个月前":i>=1?"发表于 "+~~i+" 周前":n>=1?"发表于 "+~~n+" 天前":o>=1?"发表于 "+~~o+" 个小时前":r>=1?"发表于 "+~~r+" 分钟前":"刚刚"}},Fa=s("7S1C"),Na=s.n(Fa);a.default.prototype.$axios=Ta.a,a.default.prototype.$api=Ra,a.default.prototype.$utils=Da,a.default.config.productionTip=!1,a.default.use(Aa.a),Ia.beforeEach(function(t,e,s){t.meta.title&&(document.title=t.meta.title),s()}),a.default.use(Na.a),a.default.prototype.loginPrompt=function(){this.$http.get("login_p.json").then(function(t){this.$router.push("/")})},new a.default({el:"#app",router:Ia,template:"<App/>",components:{App:n}})},Q3Jb:function(t,e){},R5uY:function(t,e){},"U2N/":function(t,e){},UDUd:function(t,e){},URI9:function(t,e){},Uuno:function(t,e){},Vjyz:function(t,e){},Vt0A:function(t,e){},"X+F4":function(t,e){},XGj5:function(t,e){},XHk3:function(t,e){},Y0v8:function(t,e){t.exports="data:image/png;base64,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"},Zh4d:function(t,e){},aDOS:function(t,e){},aLJE:function(t,e){},aRyK:function(t,e){},b1jR:function(t,e){},bYgI:function(t,e){},cr6s:function(t,e){},dEy5:function(t,e){t.exports="data:image/png;base64,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"},erYp:function(t,e){},f9VF:function(t,e){},fGvg:function(t,e){},feJQ:function(t,e){},foOX:function(t,e){},hzKF:function(t,e){},i48J:function(t,e){},ihr2:function(t,e){},iprF:function(t,e){},jnuq:function(t,e){},"l+tA":function(t,e){},mFkg:function(t,e){},mIo6:function(t,e){t.exports="data:image/png;base64,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"},nL8c:function(t,e){},"o+8c":function(t,e){},oZm0:function(t,e){},qJR7:function(t,e){},qPAg:function(t,e){},qeXS:function(t,e){},rAks:function(t,e){},s6EN:function(t,e){},t3hZ:function(t,e){},tXGR:function(t,e){},tvR6:function(t,e){},vG8z:function(t,e){},y293:function(t,e){},y4Ir:function(t,e){},zFEB:function(t,e){},zMMG:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3709994c72a6ed65d22c.js.map